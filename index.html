<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>داشبورد مدرن - چیدمان هوشمند</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* تم اصلی - آبی-بنفش */
            --primary-color: #6d28d9;
            --secondary-color: #8b5cf6;
            --accent-color: #a78bfa;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --dark-color: #1e293b;
            --light-color: #f8fafc;
            --gray-color: #64748b;
            --card-bg: rgba(255, 255, 255, 0.95);
            --glass-effect: rgba(255, 255, 255, 0.25);
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* تم‌های مختلف */
        .theme-blue {
            --primary-color: #3b82f6;
            --secondary-color: #60a5fa;
            --accent-color: #93c5fd;
        }
        
        .theme-purple {
            --primary-color: #8b5cf6;
            --secondary-color: #a78bfa;
            --accent-color: #c4b5fd;
        }
        
        .theme-teal {
            --primary-color: #0d9488;
            --secondary-color: #14b8a6;
            --accent-color: #5eead4;
        }
        
        .theme-rose {
            --primary-color: #e11d48;
            --secondary-color: #fb7185;
            --accent-color: #fda4af;
        }
        
        .theme-amber {
            --primary-color: #d97706;
            --secondary-color: #f59e0b;
            --accent-color: #fcd34d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Vazirmatn', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f0f4ff, #e6f0ff);
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 20px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            transition: background 0.5s ease;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* هدر و کنترل‌های تم */
        .header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .header-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--dark-color);
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .theme-selector {
            display: flex;
            gap: 8px;
        }
        
        .theme-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid white;
            cursor: pointer;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }
        
        .theme-btn:hover {
            transform: scale(1.1);
        }
        
        .theme-btn.active {
            transform: scale(1.1);
            border: 2px solid var(--dark-color);
        }
        
        .theme-blue-btn { background: linear-gradient(135deg, #3b82f6, #60a5fa); }
        .theme-purple-btn { background: linear-gradient(135deg, #8b5cf6, #a78bfa); }
        .theme-teal-btn { background: linear-gradient(135deg, #0d9488, #14b8a6); }
        .theme-rose-btn { background: linear-gradient(135deg, #e11d48, #fb7185); }
        .theme-amber-btn { background: linear-gradient(135deg, #d97706, #f59e0b); }
        
        /* پنل اطلاعات بالا */
        .info-panel {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            border-left: 5px solid var(--primary-color);
        }
        
        .info-item {
            display: flex;
            align-items: center;
        }
        
        .info-icon {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            font-size: 1.3rem;
            color: white;
            box-shadow: 0 5px 15px rgba(var(--primary-color-rgb), 0.2);
        }
        
        .info-text {
            display: flex;
            flex-direction: column;
        }
        
        .info-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        .info-label {
            font-size: 0.85rem;
            color: var(--gray-color);
            margin-top: 3px;
        }
        
        /* پیام همگانی - فقط یکبار نمایش داده می‌شود */
        .announcement-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .announcement-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .announcement-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            position: relative;
            transform: translateY(30px);
            transition: transform 0.5s ease;
        }
        
        .announcement-modal.active .announcement-card {
            transform: translateY(0);
        }
        
        .announcement-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .announcement-icon {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            color: white;
            font-size: 1.5rem;
        }
        
        .announcement-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        .announcement-text {
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--dark-color);
            margin-bottom: 25px;
            padding: 15px;
            background: #f8fafc;
            border-radius: 10px;
            border-right: 4px solid var(--primary-color);
        }
        
        .close-announcement {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: block;
            margin: 0 auto;
            box-shadow: 0 5px 15px rgba(var(--primary-color-rgb), 0.3);
        }
        
        .close-announcement:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(var(--primary-color-rgb), 0.4);
        }
        
        /* بخش‌های دکمه‌ها */
        .sections-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .section {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-top: 5px solid var(--primary-color);
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .section-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            font-size: 1.3rem;
            color: white;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }
        
        .section-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        /* دکمه‌ها - 4 تایی در هر ردیف */
        .buttons-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }
        
        .button-item {
            background: white;
            border-radius: 12px;
            padding: 15px 10px;
            text-decoration: none;
            color: var(--dark-color);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            border: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }
        
        .button-item::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transition: var(--transition);
        }
        
        .button-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            border-color: var(--accent-color);
        }
        
        .button-item:hover::before {
            height: 100%;
            opacity: 0.05;
        }
        
        .button-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
            color: var(--primary-color);
            z-index: 1;
        }
        
        .button-text {
            font-size: 0.85rem;
            font-weight: 600;
            z-index: 1;
            line-height: 1.4;
        }
        
        /* لودینگ دکمه */
        .button-loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 2;
        }
        
        .button-loading.active {
            opacity: 1;
            visibility: visible;
        }
        
        .spinner {
            width: 25px;
            height: 25px;
            border: 3px solid #f1f5f9;
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* لودینگ صفحه */
        .page-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .page-loader {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.2);
            border-top: 5px solid white;
            border-right: 5px solid white;
            animation: spin 1.5s linear infinite;
            margin-bottom: 20px;
        }
        
        .page-loading-text {
            color: white;
            font-size: 1.2rem;
            font-weight: 500;
        }
        
        /* فوتوتر */
        .footer {
            text-align: center;
            color: var(--gray-color);
            padding: 20px;
            font-size: 0.9rem;
            margin-top: 30px;
            border-top: 1px solid #e2e8f0;
        }
        
        /* رسپانسیو */
        @media (max-width: 1200px) {
            .buttons-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .sections-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .buttons-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sections-container {
                grid-template-columns: 1fr;
            }
            
            .header-controls {
                justify-content: center;
                text-align: center;
            }
            
            .info-panel {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .buttons-grid {
                grid-template-columns: 1fr;
            }
            
            .info-panel {
                grid-template-columns: 1fr;
            }
            
            .theme-selector {
                justify-content: center;
            }
        }
        
        /* جلوگیری از زوم */
        body {
            touch-action: pan-x pan-y;
        }
        
        /* انیمیشن ورود */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            animation: fadeInUp 0.6s ease forwards;
            opacity: 0;
        }
        
        /* استایل برای ویرایش متن دکمه‌ها */
        .editable-text {
            cursor: pointer;
            position: relative;
            padding: 2px 4px;
            border-radius: 4px;
            transition: background 0.2s;
        }
        
        .editable-text:hover {
            background: #f1f5f9;
        }
        
        .editable-text:hover::after {
            content: '✏️';
            position: absolute;
            right: -20px;
            font-size: 0.7rem;
        }
    </style>
</head>
<body class="theme-purple">
    <!-- لودینگ صفحه -->
    <div class="page-loading" id="pageLoading">
        <div class="page-loader"></div>
        <div class="page-loading-text">در حال بارگذاری داشبورد...</div>
    </div>
    
    <!-- پیام همگانی - فقط یکبار نمایش داده می‌شود -->
    <div class="announcement-modal" id="announcementModal">
        <div class="announcement-card">
            <div class="announcement-header">
                <div class="announcement-icon">
                    <i class="fas fa-bullhorn"></i>
                </div>
                <div class="announcement-title">پیام همگانی مهم</div>
            </div>
            <div class="announcement-text" id="announcementText">
                امروز سرویس‌های پشتیبان‌گیری به مدت ۲ ساعت از ساعت ۲ بامداد غیرفعال خواهند بود. لطفا کارهای خود را قبل از این زمان ذخیره کنید. با تشکر از همکاری شما.
            </div>
            <button class="close-announcement" id="closeAnnouncement">
                متوجه شدم، بستن
            </button>
        </div>
    </div>
    
    <div class="container">
        <!-- هدر و کنترل‌های تم -->
        <div class="header-controls fade-in" style="animation-delay: 0.1s">
            <div class="header-title">داشبورد هوشمند</div>
            <div class="theme-selector">
                <div class="theme-btn theme-blue-btn active" data-theme="theme-blue" title="تم آبی"></div>
                <div class="theme-btn theme-purple-btn" data-theme="theme-purple" title="تم بنفش"></div>
                <div class="theme-btn theme-teal-btn" data-theme="theme-teal" title="تم فیروزه‌ای"></div>
                <div class="theme-btn theme-rose-btn" data-theme="theme-rose" title="تم صورتی"></div>
                <div class="theme-btn theme-amber-btn" data-theme="theme-amber" title="تم نارنجی"></div>
            </div>
        </div>
        
        <!-- پنل اطلاعات بالا -->
        <div class="info-panel fade-in" style="animation-delay: 0.2s">
            <div class="info-item">
                <div class="info-icon">
                    <i class="far fa-calendar-alt"></i>
                </div>
                <div class="info-text">
                    <div class="info-value" id="currentDate">--/--/----</div>
                    <div class="info-label">تاریخ امروز</div>
                </div>
            </div>
            
            <div class="info-item">
                <div class="info-icon">
                    <i class="far fa-clock"></i>
                </div>
                <div class="info-text">
                    <div class="info-value" id="currentTime">--:--:--</div>
                    <div class="info-label">ساعت دقیق</div>
                </div>
            </div>
            
            <div class="info-item">
                <div class="info-icon">
                    <i class="fas fa-wind"></i>
                </div>
                <div class="info-text">
                    <div class="info-value" id="airQuality">---</div>
                    <div class="info-label">کیفیت هوا</div>
                </div>
            </div>
            
            <div class="info-item">
                <div class="info-icon">
                    <i class="fas fa-temperature-high"></i>
                </div>
                <div class="info-text">
                    <div class="info-value" id="temperature">--°C</div>
                    <div class="info-label">دمای فعلی</div>
                </div>
            </div>
        </div>
        
        <!-- بخش‌های دکمه‌ها -->
        <div class="sections-container">
            <!-- بخش اول: ابزارهای کاربردی -->
            <div class="section fade-in" style="animation-delay: 0.3s">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <div class="section-title">ابزارهای کاربردی</div>
                </div>
                <div class="buttons-grid" id="toolsSection">
                    <!-- دکمه‌ها اینجا اضافه می‌شوند -->
                </div>
            </div>
            
            <!-- بخش دوم: اخبار و اطلاعات -->
            <div class="section fade-in" style="animation-delay: 0.4s">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="far fa-newspaper"></i>
                    </div>
                    <div class="section-title">اخبار و اطلاعات</div>
                </div>
                <div class="buttons-grid" id="newsSection">
                    <!-- دکمه‌ها اینجا اضافه می‌شوند -->
                </div>
            </div>
            
            <!-- بخش سوم: برنامه نویسی -->
            <div class="section fade-in" style="animation-delay: 0.5s">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="fas fa-code"></i>
                    </div>
                    <div class="section-title">برنامه نویسی</div>
                </div>
                <div class="buttons-grid" id="programmingSection">
                    <!-- دکمه‌ها اینجا اضافه می‌شوند -->
                </div>
            </div>
            
            <!-- بخش چهارم: هوش مصنوعی -->
            <div class="section fade-in" style="animation-delay: 0.6s">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="section-title">هوش مصنوعی</div>
                </div>
                <div class="buttons-grid" id="aiSection">
                    <!-- دکمه‌ها اینجا اضافه می‌شوند -->
                </div>
            </div>
            
            <!-- بخش پنجم: سایت های کاربردی -->
            <div class="section fade-in" style="animation-delay: 0.7s">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="fas fa-globe"></i>
                    </div>
                    <div class="section-title">سایت های کاربردی</div>
                </div>
                <div class="buttons-grid" id="websitesSection">
                    <!-- دکمه‌ها اینجا اضافه می‌شوند -->
                </div>
            </div>
            
            <!-- بخش ششم: ابزارهای پیشرفته -->
            <div class="section fade-in" style="animation-delay: 0.8s">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="fas fa-magic"></i>
                    </div>
                    <div class="section-title">ابزارهای پیشرفته</div>
                </div>
                <div class="buttons-grid" id="advancedToolsSection">
                    <!-- دکمه‌ها اینجا اضافه می‌شوند -->
                </div>
            </div>
        </div>
        
        <!-- فوتوتر -->
        <div class="footer fade-in" style="animation-delay: 0.9s">
            <p>داشبورد مدرن - طراحی شده با جدیدترین استانداردهای رابط کاربری</p>
            <p>© 2023 - تمامی حقوق محفوظ است</p>
        </div>
    </div>
    
    <script>
        // ذخیره تم انتخابی در localStorage
        const savedTheme = localStorage.getItem('selectedTheme') || 'theme-purple';
        document.body.className = savedTheme;
        
        // مخفی کردن لودینگ صفحه
        window.addEventListener('DOMContentLoaded', (event) => {
            // آپدیت تاریخ و ساعت
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // آپدیت کیفیت هوا و دما
            updateWeatherInfo();
            setInterval(updateWeatherInfo, 60000); // هر دقیقه آپدیت شود
            
            // ایجاد دکمه‌ها برای هر بخش
            createButtons();
            
            // نمایش پیام همگانی (فقط اگر قبلا دیده نشده)
            showAnnouncementIfNeeded();
            
            // مخفی کردن لودینگ پس از ایجاد محتوا
            setTimeout(() => {
                document.getElementById('pageLoading').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('pageLoading').style.display = 'none';
                    
                    // نمایش انیمیشن ورود المان‌ها
                    const fadeElements = document.querySelectorAll('.fade-in');
                    fadeElements.forEach(el => {
                        el.style.animationPlayState = 'running';
                    });
                }, 500);
            }, 1200);
        });
        
        // تابع آپدیت تاریخ و ساعت
        function updateDateTime() {
            const now = new Date();
            
            // تاریخ
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
            const persianDate = now.toLocaleDateString('fa-IR', dateOptions);
            document.getElementById('currentDate').textContent = persianDate;
            
            // ساعت
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };
            const persianTime = now.toLocaleTimeString('fa-IR', timeOptions);
            document.getElementById('currentTime').textContent = persianTime;
        }
        
        // تابع آپدیت کیفیت هوا و دما
        function updateWeatherInfo() {
            // کیفیت هوا (مقدار تصادفی برای نمایش)
            const airQualityLevels = ['پاک', 'قابل قبول', 'ناسالم', 'بسیار ناسالم'];
            const randomAirQuality = airQualityLevels[Math.floor(Math.random() * airQualityLevels.length)];
            document.getElementById('airQuality').textContent = randomAirQuality;
            
            // دما (مقدار تصادفی برای نمایش)
            const randomTemp = Math.floor(Math.random() * 15) + 15; // بین ۱۵ تا ۳۰ درجه
            document.getElementById('temperature').textContent = `${randomTemp}°C`;
        }
        
        // تابع ایجاد دکمه‌ها
        function createButtons() {
            // داده‌های دکمه‌ها
            const buttonData = {
                tools: [
                    { id: 1, name: 'تبدیل تقویم', icon: 'fas fa-calculator', link: 'y3.html' },
                    { id: 2, name: 'مدریت تولید', icon: 'far fa-calendar', link: 'm2.html' },
                    { id: 3, name: 'پالت رنگ', icon: 'fas fa-exchange-alt', link: 'y1.html' },
                    { id: 4, name: 'مدریت چک', icon: 'fas fa-sticky-note', link: 'm7.html' }
                ],
                news: [
                    { id: 5, name: 'خبر گذاری مهر', icon: 'fas fa-microchip', link: 'https://www.mehrnews.com/?utm_source=chatgpt.com' },
                    { id: 6, name: 'خبر فارسی', icon: 'fas fa-chart-line', link: 'https://khabarfarsi.com/?utm_source=chatgpt.com' },
                    { id: 7, name: 'ورزشی', icon: 'fas fa-futbol', link: 'https://aftabnews.ir/?utm_source=chatgpt.com' },
                    { id: 8, name: 'بین‌الملل', icon: 'fas fa-globe-americas', link: 'https://fararu.com/?utm_source=chatgpt.com' }
                ],
                programming: [
                    { id: 9, name: 'GitHub', icon: 'fab fa-js', link: 'https://github.com/features/codespaces?utm_source=chatgpt.com' },
                    { id: 10, name: 'CodeSandbox', icon: 'fab fa-python', link: 'https://codesandbox.io/' },
                    { id: 11, name: 'Gitpod', icon: 'fab fa-github', link: 'https://gitpod.io/?utm_source=chatgpt.com' },
                    { id: 12, name: 'Replit', icon: 'fab fa-docker', link: 'https://replit.com/' }
                ],
                ai: [
                    { id: 13, name: 'Luna AI', icon: 'fas fa-comments', link: 'https://lunaai.video/fa/features/kl-ai-video-generator?utm_source=chatgpt.com' },
                    { id: 14, name: 'Vidful.ai', icon: 'fas fa-image', link: 'https://vidful.ai/fa?utm_source=chatgpt.com' },
                    { id: 15, name: 'Gemini', icon: 'fas fa-microphone', link: 'https://llamagen.ai/fa/ai-video-generator/ai-youtube-video-generator?utm_source=chatgpt.com' },
                    { id: 16, name: 'Hooshita', icon: 'fas fa-brain', link: 'https://hooshita.com/ai-video-generator/?utm_source=chatgpt.com' }
                ],
                websites: [
                    { id: 17, name: 'Product Hunt', icon: 'fas fa-search', link: 'https://www.producthunt.com/?utm_source=chatgpt.com' },
                    { id: 18, name: 'MakeUseOf (MUO', icon: 'far fa-envelope', link: 'https://www.makeuseof.com/?utm_source=chatgpt.com' },
                    { id: 19, name: 'Lifehacker', icon: 'fas fa-cloud', link: 'https://lifehacker.com/?utm_source=chatgpt.com' },
                    { id: 20, name: 'Stack Overflow', icon: 'fas fa-video', link: 'https://stackoverflow.com/?utm_source=chatgpt.com' }
                ],
                advancedTools: [
                    { id: 21, name: 'خدمات پزشکی', icon: 'fas fa-chart-bar', link: 'https://mbuiop.github.io/slamianlayn/' },
                    { id: 22, name: 'فاکتور ساز', icon: 'fas fa-lock', link: 'https://mbuiop.github.io/Tablikgram/' },
                    { id: 23, name: 'ساخت اپلیکیشن', icon: 'fas fa-bug', link: 'm23.html' },
                    { id: 24, name: 'سینگال ترید', icon: 'fas fa-network-wired', link: 'm24.html' },
                    { id: 25, name: 'دانلودراینستاگرام', icon: 'fas fa-tasks', link: 'https://snapvideo.app/fa?utm_source=chatgpt.com' },
                    { id: 26, name: 'سرور', icon: 'fas fa-users', link: 'https://www.iranserver.com/dedicated-servers/?utm_source=chatgpt.com' },
                    { id: 27, name: 'پشتیبان', icon: 'fas fa-hdd', link: 'm27.html' },
                    { id: 28, name: 'تنظیمات', icon: 'fas fa-cog', link: 'm28.html' }
                ]
            };
            
            // ایجاد دکمه‌ها برای هر بخش
            createSectionButtons('toolsSection', buttonData.tools);
            createSectionButtons('newsSection', buttonData.news);
            createSectionButtons('programmingSection', buttonData.programming);
            createSectionButtons('aiSection', buttonData.ai);
            createSectionButtons('websitesSection', buttonData.websites);
            createSectionButtons('advancedToolsSection', buttonData.advancedTools);
            
            // فعال‌سازی قابلیت ویرایش متن دکمه‌ها
            enableButtonTextEditing();
            
            // فعال‌سازی انتخاب تم
            enableThemeSelection();
        }
        
        // تابع ایجاد دکمه‌ها برای هر بخش
        function createSectionButtons(sectionId, buttons) {
            const section = document.getElementById(sectionId);
            
            buttons.forEach(button => {
                const buttonElement = document.createElement('a');
                buttonElement.href = button.link;
                buttonElement.className = 'button-item';
                buttonElement.dataset.id = button.id;
                
                buttonElement.innerHTML = `
                    <div class="button-icon">
                        <i class="${button.icon}"></i>
                    </div>
                    <div class="button-text editable-text" data-id="${button.id}">${button.name}</div>
                    <div class="button-loading">
                        <div class="spinner"></div>
                    </div>
                `;
                
                // افزودن رویداد کلیک برای نمایش لودینگ و باز کردن فایل
                buttonElement.addEventListener('click', function(e) {
                    e.preventDefault();
                    const loading = this.querySelector('.button-loading');
                    const fileLink = this.getAttribute('href');
                    
                    // نمایش لودینگ
                    loading.classList.add('active');
                    
                    // پس از 500 میلی‌ثانیه مستقیماً فایل را باز کن
                    setTimeout(() => {
                        window.location.href = fileLink;
                    }, 500);
                });
                
                section.appendChild(buttonElement);
            });
        }
        
        // تابع فعال‌سازی قابلیت ویرایش متن دکمه‌ها
        function enableButtonTextEditing() {
            const editableTexts = document.querySelectorAll('.editable-text');
            
            editableTexts.forEach(textElement => {
                textElement.addEventListener('click', function(e) {
                    e.stopPropagation(); // جلوگیری از اجرای رویداد کلیک دکمه
                    
                    const currentText = this.textContent;
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.value = currentText;
                    input.style.width = '100%';
                    input.style.textAlign = 'center';
                    input.style.fontSize = 'inherit';
                    input.style.fontWeight = 'inherit';
                    input.style.border = '1px solid var(--primary-color)';
                    input.style.borderRadius = '4px';
                    input.style.padding = '2px';
                    input.style.background = 'white';
                    
                    // جایگزینی متن با فیلد ورودی
                    this.textContent = '';
                    this.appendChild(input);
                    input.focus();
                    input.select();
                    
                    // ذخیره تغییرات هنگام فشار دادن Enter
                    input.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter') {
                            const newText = this.value.trim();
                            if (newText) {
                                textElement.textContent = newText;
                                // ذخیره در localStorage
                                saveButtonText(textElement.dataset.id, newText);
                            } else {
                                textElement.textContent = currentText;
                            }
                        }
                        
                        // لغو تغییرات با Escape
                        if (e.key === 'Escape') {
                            textElement.textContent = currentText;
                        }
                    });
                    
                    // لغو تغییرات هنگام از دست دادن فوکوس
                    input.addEventListener('blur', function() {
                        const newText = this.value.trim();
                        if (newText && newText !== currentText) {
                            textElement.textContent = newText;
                            saveButtonText(textElement.dataset.id, newText);
                        } else {
                            textElement.textContent = currentText;
                        }
                    });
                });
            });
        }
        
        // تابع ذخیره متن دکمه در localStorage
        function saveButtonText(buttonId, text) {
            const savedButtons = JSON.parse(localStorage.getItem('buttonTexts') || '{}');
            savedButtons[buttonId] = text;
            localStorage.setItem('buttonTexts', JSON.stringify(savedButtons));
            console.log(`متن دکمه ${buttonId} ذخیره شد: ${text}`);
        }
        
        // تابع بارگذاری متن دکمه از localStorage
        function loadButtonText(buttonId, defaultText) {
            const savedButtons = JSON.parse(localStorage.getItem('buttonTexts') || '{}');
            return savedButtons[buttonId] || defaultText;
        }
        
        // تابع فعال‌سازی انتخاب تم
        function enableThemeSelection() {
            const themeButtons = document.querySelectorAll('.theme-btn');
            
            themeButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    
                    // حذف کلاس active از همه دکمه‌ها
                    themeButtons.forEach(b => b.classList.remove('active'));
                    
                    // اضافه کردن کلاس active به دکمه انتخاب شده
                    this.classList.add('active');
                    
                    // اعمال تم انتخاب شده
                    document.body.className = theme;
                    
                    // ذخیره تم در localStorage
                    localStorage.setItem('selectedTheme', theme);
                });
            });
            
            // فعال کردن دکمه تم ذخیره شده
            const activeThemeBtn = document.querySelector(`.theme-btn[data-theme="${savedTheme}"]`);
            if (activeThemeBtn) {
                activeThemeBtn.classList.add('active');
            }
        }
        
        // تابع نمایش پیام همگانی (فقط یکبار)
        function showAnnouncementIfNeeded() {
            const lastSeen = localStorage.getItem('announcementLastSeen');
            const now = Date.now();
            const oneDay = 24 * 60 * 60 * 1000; // 24 ساعت در میلی‌ثانیه
            
            // اگر پیام قبلا دیده نشده یا بیش از 24 ساعت گذشته
            if (!lastSeen || (now - parseInt(lastSeen)) > oneDay) {
                setTimeout(() => {
                    document.getElementById('announcementModal').classList.add('active');
                }, 1500);
            }
            
            // رویداد بستن پیام
            document.getElementById('closeAnnouncement').addEventListener('click', function() {
                document.getElementById('announcementModal').classList.remove('active');
                localStorage.setItem('announcementLastSeen', now.toString());
            });
        }
        
        // جلوگیری از زوم در صفحه‌نمایش‌های لمسی
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });
        
        // جلوگیری از دوبار کلیک برای زوم
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>
