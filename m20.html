<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø³ÛŒØ³ØªÙ… Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒØ¯Ù‡ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ | Ø¯Ù‚Øª Û¹Ûµ%+</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0a0a2a 0%, #1a1a4a 50%, #2a2a6a 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            touch-action: manipulation;
        }

        /* Prevent zoom on mobile */
        input, select, textarea {
            font-size: 16px;
        }

        /* AI Background */
        .ai-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
            background: radial-gradient(circle at 20% 50%, rgba(0, 40, 120, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(120, 0, 60, 0.2) 0%, transparent 50%);
        }

        .ai-neuron {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(0, 255, 255, 0.9);
            border-radius: 50%;
            animation: neuron-pulse 3s infinite;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.7);
        }

        @keyframes neuron-pulse {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.5); opacity: 1; }
        }

        /* Main Container */
        .container {
            max-width: 100%;
            padding: 15px;
            position: relative;
            z-index: 1;
        }

        /* Quick History Button */
        .history-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #9d4edd, #6a11cb);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(157, 78, 221, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .history-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(157, 78, 221, 0.4);
        }

        /* Header */
        .ai-header {
            text-align: center;
            margin-bottom: 25px;
            background: linear-gradient(135deg, 
                rgba(0, 40, 120, 0.3), 
                rgba(120, 0, 60, 0.3), 
                rgba(0, 120, 40, 0.3));
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px 20px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            margin-top: 10px;
        }

        .ai-header h1 {
            font-size: 1.6rem;
            font-weight: 800;
            background: linear-gradient(45deg, #00ff88, #00ccff, #9d4edd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .ai-badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .ai-badge {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.15), rgba(0, 204, 255, 0.15));
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85rem;
            border: 1px solid rgba(0, 255, 136, 0.3);
            display: flex;
            align-items: center;
            gap: 6px;
            backdrop-filter: blur(10px);
        }

        /* AI Templates - Grid Layout */
        .ai-templates {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .ai-template-card {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05), 
                rgba(255, 255, 255, 0.02));
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
        }

        .ai-template-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(0, 204, 255, 0.3);
        }

        .ai-template-card.active {
            background: linear-gradient(135deg, 
                rgba(0, 255, 136, 0.1), 
                rgba(0, 204, 255, 0.1));
            border-color: #00ff88;
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.2);
            transform: translateY(-3px);
        }

        .template-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .template-header h3 {
            font-size: 1.1rem;
            font-weight: 700;
            color: #00ccff;
        }

        .template-accuracy {
            background: rgba(0, 255, 136, 0.15);
            color: #00ff88;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: 600;
            font-size: 0.8rem;
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .template-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .stat-item {
            text-align: center;
            padding: 8px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-label {
            font-size: 0.75rem;
            opacity: 0.8;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 0.9rem;
            font-weight: 700;
            color: #00ff88;
        }

        /* Input Form - Two Columns */
        .ai-input-section {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.03), 
                rgba(255, 255, 255, 0.01));
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
        }

        .input-section-title {
            text-align: center;
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: #00ccff;
            position: relative;
            padding-bottom: 10px;
        }

        .input-section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 2px;
            background: linear-gradient(90deg, #00ff88, #00ccff);
            border-radius: 2px;
        }

        /* Indicator Groups Grid */
        .indicator-groups-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .indicator-group {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .indicator-group-title {
            font-size: 1rem;
            font-weight: 700;
            color: #00ff88;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(0, 255, 136, 0.2);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Two inputs per row */
        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 12px;
        }

        .ai-input-group {
            position: relative;
        }

        .ai-input-group.full-width {
            grid-column: 1 / -1;
        }

        .ai-input-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #00ccff;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ai-input-group input,
        .ai-input-group select {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .ai-input-group input:focus,
        .ai-input-group select:focus {
            outline: none;
            border-color: #00ff88;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
            background: rgba(255, 255, 255, 0.08);
        }

        /* Action Buttons */
        .ai-action-buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: 25px;
        }

        .ai-action-btn {
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .generate-signal-btn {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3);
        }

        .generate-signal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.4);
        }

        .reset-btn {
            background: linear-gradient(135deg, #ff4757, #ff6b7a);
            color: white;
            box-shadow: 0 5px 20px rgba(255, 71, 87, 0.3);
        }

        .reset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 71, 87, 0.4);
        }

        /* Loading */
        .ai-loading {
            display: none;
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ai-loader {
            width: 60px;
            height: 60px;
            margin: 0 auto 20px;
            position: relative;
        }

        .ai-loader::before,
        .ai-loader::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: #00ff88;
            animation: ai-spin 1.5s linear infinite;
        }

        .ai-loader::after {
            border-top-color: #00ccff;
            animation-delay: 0.5s;
        }

        @keyframes ai-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Signal Result */
        .ai-signal-result {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.03), 
                rgba(255, 255, 255, 0.01));
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
        }

        .signal-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .signal-main {
            font-size: 1.5rem;
            font-weight: 800;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            animation: signal-glow 2s infinite alternate;
            background: linear-gradient(135deg, 
                rgba(0, 255, 136, 0.15), 
                rgba(0, 204, 255, 0.15));
            border: 2px solid rgba(0, 255, 136, 0.3);
        }

        .buy-strong { 
            color: #00ff88;
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.8);
        }

        .sell-strong { 
            color: #ff4757;
            text-shadow: 0 0 20px rgba(255, 71, 87, 0.8);
        }

        .neutral-strong { 
            color: #ffd700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
        }

        @keyframes signal-glow {
            0% { box-shadow: 0 0 20px currentColor; }
            100% { box-shadow: 0 0 40px currentColor; }
        }

        .signal-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-3px);
            border-color: rgba(0, 204, 255, 0.3);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .stat-card h4 {
            color: #00ccff;
            margin-bottom: 10px;
            font-size: 0.85rem;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 800;
            color: #ffffff;
        }

        /* AI Analysis */
        .ai-analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 25px;
        }

        .ai-analysis-card {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-left: 4px solid;
        }

        .ai-analysis-card.buy { border-left-color: #00ff88; }
        .ai-analysis-card.sell { border-left-color: #ff4757; }
        .ai-analysis-card.neutral { border-left-color: #ffd700; }

        .ai-model-name {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #ffffff;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-model-score {
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: 700;
            font-size: 0.9rem;
        }

        /* History Modal */
        .history-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            backdrop-filter: blur(10px);
        }

        .history-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05), 
                rgba(255, 255, 255, 0.02));
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(0, 204, 255, 0.3);
        }

        .history-header h3 {
            color: #00ccff;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .close-history {
            background: transparent;
            border: none;
            color: #ff4757;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
        }

        .history-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .history-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .history-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, #00ff88, #00ccff);
        }

        .history-item.expired {
            opacity: 0.5;
        }

        .history-time {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 0.75rem;
            opacity: 0.7;
        }

        /* Empty State */
        .empty-history {
            text-align: center;
            padding: 40px 20px;
            opacity: 0.5;
        }

        .empty-history i {
            font-size: 3rem;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .ai-header h1 {
                font-size: 1.4rem;
            }
            
            .ai-templates {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .indicator-groups-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .input-row {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .signal-stats {
                grid-template-columns: 1fr;
            }
            
            .ai-analysis-grid {
                grid-template-columns: 1fr;
            }
            
            .history-btn {
                top: 10px;
                left: 10px;
                padding: 8px 15px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .ai-badges {
                flex-direction: column;
                align-items: center;
            }
            
            .ai-badge {
                width: 100%;
                justify-content: center;
            }
            
            .history-content {
                width: 95%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- AI Background -->
    <div class="ai-background" id="aiBackground"></div>

    <!-- Quick History Button -->
    <button class="history-btn" onclick="showHistory()">
        ğŸ“‹ ØªØ§Ø±ÛŒØ®Ú†Ù‡
        <span id="historyCount">0</span>
    </button>

    <div class="container">
        <!-- Header -->
        <div class="ai-header">
            <h1>ğŸ§  Ø³ÛŒØ³ØªÙ… Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒØ¯Ù‡ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</h1>
            <p style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 10px;">
                ØªØ­Ù„ÛŒÙ„ Û´Û° Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± Ø¨Ø§ Û±Û° Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
            </p>
            <div class="ai-badges">
                <div class="ai-badge">ğŸ¯ Ø¯Ù‚Øª Û¹Ûµ%+</div>
                <div class="ai-badge">âš¡ Û´Û° Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±</div>
                <div class="ai-badge">ğŸ¤– Û±Û° Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…</div>
            </div>
        </div>

        <!-- AI Templates -->
        <div class="ai-templates">
            <!-- Template 1 -->
            <div class="ai-template-card" onclick="selectTemplate('neural-ai', this)">
                <div class="template-header">
                    <h3>ğŸ§  Ø´Ø¨Ú©Ù‡ Ø¹ØµØ¨ÛŒ Ø¹Ù…ÛŒÙ‚</h3>
                    <div class="template-accuracy">Û¹Ûµ%</div>
                </div>
                <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 15px;">
                    Û¸ Ù„Ø§ÛŒÙ‡ Ø´Ø¨Ú©Ù‡ Ø¹ØµØ¨ÛŒ Ø¨Ø§ Ø¢Ù…ÙˆØ²Ø´ Ø¨Ø± Ø±ÙˆÛŒ Û±Û°M Ø¯Ø§Ø¯Ù‡
                </p>
                <div class="template-stats">
                    <div class="stat-item">
                        <div class="stat-label">Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§</div>
                        <div class="stat-value">Û´Û°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ÙˆØ²Ù† Ù…ØªÙˆØ³Ø·</div>
                        <div class="stat-value">Û¹Û´</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§</div>
                        <div class="stat-value">Û¸</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ø¢Ù…ÙˆØ²Ø´ Ø¯Ø§Ø¯Ù‡</div>
                        <div class="stat-value">Û±Û°M</div>
                    </div>
                </div>
            </div>

            <!-- Template 2 -->
            <div class="ai-template-card" onclick="selectTemplate('quantum-ai', this)">
                <div class="template-header">
                    <h3>âš›ï¸ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</h3>
                    <div class="template-accuracy">Û¹Û¶%</div>
                </div>
                <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 15px;">
                    Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ú†Ù†Ø¯Ø¨Ø¹Ø¯ÛŒ Ø¨Ø§Ø²Ø§Ø±
                </p>
                <div class="template-stats">
                    <div class="stat-item">
                        <div class="stat-label">Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§</div>
                        <div class="stat-value">Û´Û°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ÙˆØ²Ù† Ù…ØªÙˆØ³Ø·</div>
                        <div class="stat-value">Û¹Ûµ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ø¨Ø¹Ø¯Ù‡Ø§</div>
                        <div class="stat-value">Û·</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§</div>
                        <div class="stat-value">Û¶Û´</div>
                    </div>
                </div>
            </div>

            <!-- Template 3 -->
            <div class="ai-template-card" onclick="selectTemplate('ensemble-ai', this)">
                <div class="template-header">
                    <h3>ğŸ¤ Ø³ÛŒØ³ØªÙ… Ú¯Ø±ÙˆÙ‡ÛŒ</h3>
                    <div class="template-accuracy">Û¹Û·%</div>
                </div>
                <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 15px;">
                    ØªØ±Ú©ÛŒØ¨ Û±Û° Ù…Ø¯Ù„ Ø¨Ø§ Ø±Ø£ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ ÙˆØ²Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø­Ø¯Ø§Ú©Ø«Ø± Ø¯Ù‚Øª
                </p>
                <div class="template-stats">
                    <div class="stat-item">
                        <div class="stat-label">Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§</div>
                        <div class="stat-value">Û´Û°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ÙˆØ²Ù† Ù…ØªÙˆØ³Ø·</div>
                        <div class="stat-value">Û¹Û¶</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ù…Ø¯Ù„â€ŒÙ‡Ø§</div>
                        <div class="stat-value">Û±Û°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ØªÙˆØ§ÙÙ‚</div>
                        <div class="stat-value">Û¹Û´%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Input Form Ø¨Ø§ Û´Û° Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± -->
        <div class="ai-input-section" id="inputForm">
            <h2 class="input-section-title">ğŸ“Š ÙˆØ±ÙˆØ¯ Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø±</h2>
            
            <div class="indicator-groups-grid">
                <!-- Ú¯Ø±ÙˆÙ‡ 1: Ù‚ÛŒÙ…Øª Ùˆ Ø­Ø¬Ù… -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ’° Ù‚ÛŒÙ…Øª Ùˆ Ø­Ø¬Ù…</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ’° Ù†Ù…Ø§Ø¯</label>
                            <input type="text" id="symbol" placeholder="BTCUSDT" style="text-transform: uppercase;">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ’µ Ù‚ÛŒÙ…Øª ÙØ¹Ù„ÛŒ</label>
                            <input type="number" id="currentPrice" step="0.000001" placeholder="47500.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø­Ø¬Ù… 24h</label>
                            <input type="number" id="volume24h" placeholder="2850000000">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø­Ø¬Ù… Ù†Ø³Ø¨ÛŒ</label>
                            <input type="number" id="volumeRatio" step="0.01" placeholder="1.25">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 2: Ø­Ù…Ø§ÛŒØª Ùˆ Ù…Ù‚Ø§ÙˆÙ…Øª -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“ˆ Ø­Ù…Ø§ÛŒØª Ùˆ Ù…Ù‚Ø§ÙˆÙ…Øª</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“ˆ Ù…Ù‚Ø§ÙˆÙ…Øª Û±</label>
                            <input type="number" id="resistance1" step="0.000001" placeholder="50000.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“ˆ Ù…Ù‚Ø§ÙˆÙ…Øª Û²</label>
                            <input type="number" id="resistance2" step="0.000001" placeholder="51000.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“‰ Ø­Ù…Ø§ÛŒØª Û±</label>
                            <input type="number" id="support1" step="0.000001" placeholder="45000.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“‰ Ø­Ù…Ø§ÛŒØª Û²</label>
                            <input type="number" id="support2" step="0.000001" placeholder="44000.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 3: Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú© -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“Š Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú©</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š EMA 9</label>
                            <input type="number" id="ema9" step="0.000001" placeholder="47200.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š EMA 21</label>
                            <input type="number" id="ema21" step="0.000001" placeholder="47000.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š EMA 50</label>
                            <input type="number" id="ema50" step="0.000001" placeholder="46500.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š EMA 200</label>
                            <input type="number" id="ema200" step="0.000001" placeholder="46000.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 4: Ù…ÙˆÙ…Ù†ØªÙˆÙ… -->
                <div class="indicator-group">
                    <div class="indicator-group-title">âš¡ Ù…ÙˆÙ…Ù†ØªÙˆÙ…</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š RSI</label>
                            <input type="number" id="rsi" min="0" max="100" step="0.01" placeholder="45.50">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Stochastic %K</label>
                            <input type="number" id="stochK" min="0" max="100" step="0.01" placeholder="55.30">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Stochastic %D</label>
                            <input type="number" id="stochD" min="0" max="100" step="0.01" placeholder="48.70">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Williams %R</label>
                            <input type="number" id="williamsR" min="-100" max="0" step="0.01" placeholder="-65.20">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 5: MACD -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“ˆ MACD</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š MACD Histogram</label>
                            <input type="number" id="macdHist" step="0.000001" placeholder="0.0520">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š MACD Signal</label>
                            <input type="number" id="macdSignal" step="0.000001" placeholder="0.0480">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š MACD Line</label>
                            <input type="number" id="macdLine" step="0.000001" placeholder="0.0500">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š MACD Divergence</label>
                            <input type="number" id="macdDiv" step="0.000001" placeholder="0.0040">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 6: Ø¨ÙˆÙ„ÛŒÙ†Ú¯Ø± Ø¨Ø§Ù†Ø¯ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“ Ø¨ÙˆÙ„ÛŒÙ†Ú¯Ø± Ø¨Ø§Ù†Ø¯</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø¨Ø§Ù†Ø¯ Ø¨Ø§Ù„Ø§</label>
                            <input type="number" id="bbUpper" step="0.000001" placeholder="52000.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø¨Ø§Ù†Ø¯ ÙˆØ³Ø·</label>
                            <input type="number" id="bbMiddle" step="0.000001" placeholder="47500.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø¨Ø§Ù†Ø¯ Ù¾Ø§ÛŒÛŒÙ†</label>
                            <input type="number" id="bbLower" step="0.000001" placeholder="43000.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù¾Ù‡Ù†Ø§ÛŒ Ø¨Ø§Ù†Ø¯</label>
                            <input type="number" id="bbWidth" step="0.000001" placeholder="9000.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 7: ADX Ùˆ Ø¬Ù‡Øªâ€ŒÚ¯ÛŒØ±ÛŒ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ¯ Ù‚Ø¯Ø±Øª Ø±ÙˆÙ†Ø¯</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š ADX</label>
                            <input type="number" id="adx" min="0" max="100" step="0.01" placeholder="35.60">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š +DI</label>
                            <input type="number" id="plusDI" min="0" max="100" step="0.01" placeholder="28.90">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š -DI</label>
                            <input type="number" id="minusDI" min="0" max="100" step="0.01" placeholder="22.40">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š ATR</label>
                            <input type="number" id="atr" step="0.000001" placeholder="850.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 8: Ø§ÛŒÚ†ÛŒÙ…ÙˆÚ©Ùˆ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">â˜ï¸ Ø§ÛŒÚ†ÛŒÙ…ÙˆÚ©Ùˆ</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š ØªÙ†Ú©Ø§Ù† Ø³Ù†</label>
                            <input type="number" id="tenkan" step="0.000001" placeholder="48000.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ú©ÛŒØ¬ÙˆÙ† Ø³Ù†</label>
                            <input type="number" id="kijun" step="0.000001" placeholder="47500.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø³Ù†Ú©Ùˆ A</label>
                            <input type="number" id="senkouA" step="0.000001" placeholder="48500.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø³Ù†Ú©Ùˆ B</label>
                            <input type="number" id="senkouB" step="0.000001" placeholder="49000.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 9: ÙÛŒØ¨ÙˆÙ†Ø§Ú†ÛŒ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“ ÙÛŒØ¨ÙˆÙ†Ø§Ú†ÛŒ</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Û°.Û¶Û±Û¸</label>
                            <input type="number" id="fib618" step="0.000001" placeholder="48800.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Û°.Û³Û¸Û²</label>
                            <input type="number" id="fib382" step="0.000001" placeholder="46200.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Û°.Ûµ</label>
                            <input type="number" id="fib500" step="0.000001" placeholder="47500.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Û°.Û·Û¸Û¶</label>
                            <input type="number" id="fib786" step="0.000001" placeholder="49200.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 10: Ø­Ø¬Ù… Ùˆ VWAP -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“Š Ø­Ø¬Ù… Ù¾ÛŒØ´Ø±ÙØªÙ‡</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š VWAP</label>
                            <input type="number" id="vwap" step="0.000001" placeholder="47350.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š OBV</label>
                            <input type="number" id="obv" placeholder="152000000">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š CMF</label>
                            <input type="number" id="cmf" step="0.01" placeholder="0.25">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š MFI</label>
                            <input type="number" id="mfi" min="0" max="100" placeholder="52.40">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 11: Ù†ÙˆØ³Ø§Ù†â€ŒÚ¯Ø±Ù‡Ø§ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ¯ Ù†ÙˆØ³Ø§Ù†â€ŒÚ¯Ø±Ù‡Ø§</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š CCI</label>
                            <input type="number" id="cci" step="0.01" placeholder="125.80">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š ROC</label>
                            <input type="number" id="roc" step="0.01" placeholder="2.85">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Awesome Osc</label>
                            <input type="number" id="awesomeOsc" step="0.000001" placeholder="250.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Momentum</label>
                            <input type="number" id="momentum" step="0.000001" placeholder="1500.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 12: Ù¾Ø§Ø±Ø§Ø¨ÙˆÙ„ÛŒÚ© Ùˆ SAR -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“ˆ Ù¾Ø§Ø±Ø§Ø¨ÙˆÙ„ÛŒÚ©</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù¾Ø§Ø±Ø§Ø¨ÙˆÙ„ÛŒÚ© SAR</label>
                            <input type="number" id="parabolicSAR" step="0.000001" placeholder="46200.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø´ØªØ§Ø¨ SAR</label>
                            <input type="number" id="sarAcc" step="0.01" placeholder="0.02">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø­Ø¯Ø§Ú©Ø«Ø± Ø´ØªØ§Ø¨</label>
                            <input type="number" id="sarMax" step="0.01" placeholder="0.20">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø¬Ù‡Øª SAR</label>
                            <select id="sarDirection">
                                <option value="up">ØµØ¹ÙˆØ¯ÛŒ</option>
                                <option value="down">Ù†Ø²ÙˆÙ„ÛŒ</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 13: Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ú©Ø§Ù†Ø§Ù„ Ø¨Ø§Ù„Ø§</label>
                            <input type="number" id="channelUpper" step="0.000001" placeholder="52500.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ú©Ø§Ù†Ø§Ù„ Ù¾Ø§ÛŒÛŒÙ†</label>
                            <input type="number" id="channelLower" step="0.000001" placeholder="42500.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ú©Ø§Ù†Ø§Ù„ ÙˆØ³Ø·</label>
                            <input type="number" id="channelMiddle" step="0.000001" placeholder="47500.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù¾Ù‡Ù†Ø§ÛŒ Ú©Ø§Ù†Ø§Ù„</label>
                            <input type="number" id="channelWidth" step="0.000001" placeholder="10000.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 14: Ù¾ÛŒÙˆØªâ€ŒÙ¾ÙˆÛŒÙ†Øª -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ¯ Ù¾ÛŒÙˆØªâ€ŒÙ¾ÙˆÛŒÙ†Øª</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù¾ÛŒÙˆØª R1</label>
                            <input type="number" id="pivotR1" step="0.000001" placeholder="49200.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù¾ÛŒÙˆØª R2</label>
                            <input type="number" id="pivotR2" step="0.000001" placeholder="50500.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù¾ÛŒÙˆØª S1</label>
                            <input type="number" id="pivotS1" step="0.000001" placeholder="45800.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù¾ÛŒÙˆØª S2</label>
                            <input type="number" id="pivotS2" step="0.000001" placeholder="44500.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 15: Ù…ÙˆÙ…Ù†ØªÙˆÙ… Ù¾ÛŒØ´Ø±ÙØªÙ‡ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">âš¡ Ù…ÙˆÙ…Ù†ØªÙˆÙ… Ù¾ÛŒØ´Ø±ÙØªÙ‡</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š RSI Ù…ÙˆÙ…Ù†ØªÙˆÙ…</label>
                            <input type="number" id="rsiMomentum" step="0.01" placeholder="1.25">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù†Ø±Ø® ØªØºÛŒÛŒØ±</label>
                            <input type="number" id="rateOfChange" step="0.01" placeholder="2.45">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù‚Ø¯Ø±Øª Ù†Ø³Ø¨ÛŒ</label>
                            <input type="number" id="relativeStrength" step="0.01" placeholder="1.15">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø³Ø±Ø¹Øª Ù‚ÛŒÙ…Øª</label>
                            <input type="number" id="priceVelocity" step="0.01" placeholder="0.85">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 16: Ù†ÙˆØ³Ø§Ù†Ø§Øª -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“Š Ù†ÙˆØ³Ø§Ù†Ø§Øª</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù†ÙˆØ³Ø§Ù† Ø±ÙˆØ²Ø§Ù†Ù‡</label>
                            <input type="number" id="dailyVolatility" step="0.01" placeholder="3.25">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù†ÙˆØ³Ø§Ù† Ù‡ÙØªÚ¯ÛŒ</label>
                            <input type="number" id="weeklyVolatility" step="0.01" placeholder="8.75">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø¨Ø§Ù†Ø¯ Ù†ÙˆØ³Ø§Ù†</label>
                            <input type="number" id="volatilityBand" step="0.01" placeholder="2.50">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø¶Ø±ÛŒØ¨ Ù†ÙˆØ³Ø§Ù†</label>
                            <input type="number" id="volatilityCoefficient" step="0.01" placeholder="1.85">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 17: Ø´Ø§Ø®Øµâ€ŒÙ‡Ø§ÛŒ Ø­Ø¬Ù… -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“ˆ Ø´Ø§Ø®Øµ Ø­Ø¬Ù…</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø­Ø¬Ù… Ø®Ø±ÛŒØ¯</label>
                            <input type="number" id="buyVolume" placeholder="1500000000">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø­Ø¬Ù… ÙØ±ÙˆØ´</label>
                            <input type="number" id="sellVolume" placeholder="1350000000">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ù†Ø³Ø¨Øª Ø®Ø±ÛŒØ¯/ÙØ±ÙˆØ´</label>
                            <input type="number" id="volumeRatioBS" step="0.01" placeholder="1.11">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø­Ø¬Ù… Ù†Ø³Ø¨ÛŒ Ù‚ÛŒÙ…Øª</label>
                            <input type="number" id="volumePriceRatio" step="0.01" placeholder="1.05">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 18: Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†â€ŒÙ‡Ø§ÛŒ ÙˆØ²Ù†ÛŒ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ“Š Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† ÙˆØ²Ù†ÛŒ</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š WMA 20</label>
                            <input type="number" id="wma20" step="0.000001" placeholder="47300.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š WMA 50</label>
                            <input type="number" id="wma50" step="0.000001" placeholder="46800.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š LWMA 20</label>
                            <input type="number" id="lwma20" step="0.000001" placeholder="47250.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š LWMA 50</label>
                            <input type="number" id="lwma50" step="0.000001" placeholder="46750.00">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 19: Ø´Ø§Ø®Øµâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸ¯ Ø´Ø§Ø®Øµâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š ØªØ±ÛŒÚ©Ø³</label>
                            <input type="number" id="trix" step="0.000001" placeholder="0.0025">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ú©ÙˆÙ…Ùˆ</label>
                            <input type="number" id="kumo" step="0.000001" placeholder="48500.00">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ú†ÛŒÚ©Ùˆ Ø§Ø³Ù¾Ù†</label>
                            <input type="number" id="chikou" step="0.000001" placeholder="47300.00">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š ØªÚ©Ù†ÛŒÚ©Ø§Ù„ Ø±ÛŒØªÛŒÙ†Ú¯</label>
                            <input type="number" id="techRating" min="0" max="10" placeholder="7.5">
                        </div>
                    </div>
                </div>

                <!-- Ú¯Ø±ÙˆÙ‡ 20: Ø´Ú©Ø§Ù Ø¨Ø§Ø²Ø§Ø± -->
                <div class="indicator-group">
                    <div class="indicator-group-title">ğŸŒ Ø´Ú©Ø§Ù Ø¨Ø§Ø²Ø§Ø±</div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø´Ú©Ø§Ù</label>
                            <input type="number" id="gapSize" step="0.01" placeholder="2.5">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø¬Ù‡Øª Ø´Ú©Ø§Ù</label>
                            <select id="gapDirection">
                                <option value="up">ØµØ¹ÙˆØ¯ÛŒ</option>
                                <option value="down">Ù†Ø²ÙˆÙ„ÛŒ</option>
                                <option value="neutral">Ø®Ù†Ø«ÛŒ</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø²Ù…Ø§Ù† Ù¾Ø± Ø´Ø¯Ù†</label>
                            <input type="number" id="gapFillTime" placeholder="12">
                        </div>
                        <div class="ai-input-group">
                            <label>ğŸ“Š Ø§Ø­ØªÙ…Ø§Ù„ Ù¾Ø± Ø´Ø¯Ù†</label>
                            <input type="number" id="gapFillProb" min="0" max="100" placeholder="85">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="ai-action-buttons">
                <button class="ai-action-btn generate-signal-btn" onclick="generateAISignal()">
                    âš¡ ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
                </button>
                <button class="ai-action-btn reset-btn" onclick="resetAIForm()">
                    ğŸ”„ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯
                </button>
            </div>
        </div>

        <!-- Loading -->
        <div class="ai-loading" id="aiLoading">
            <div class="ai-loader"></div>
            <p style="font-size: 1.1rem; margin-top: 20px;">ğŸ§  Ø¯Ø± Ø­Ø§Ù„ ØªØ­Ù„ÛŒÙ„ Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ...</p>
            <p style="opacity: 0.8; margin-top: 10px;">ØªØ±Ú©ÛŒØ¨ Û´Û° Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ø­Ø¯Ø§Ú©Ø«Ø± Ø¯Ù‚Øª</p>
        </div>

        <!-- Signal Result -->
        <div class="ai-signal-result" id="signalResult">
            <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø³ÛŒÚ¯Ù†Ø§Ù„ ØªÙˆØ³Ø· JavaScript ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
        </div>
    </div>

    <!-- History Modal -->
    <div class="history-modal" id="historyModal">
        <div class="history-content">
            <div class="history-header">
                <h3>ğŸ“‹ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§</h3>
                <button class="close-history" onclick="hideHistory()">Ã—</button>
            </div>
            <div class="history-list" id="historyList">
                <!-- ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªÙˆØ³Ø· JavaScript ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
            </div>
        </div>
    </div>

    <script>
        // Ø³ÛŒØ³ØªÙ… Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒØ¯Ù‡ÛŒ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
        class QuantumAITradingSystem {
            constructor() {
                this.selectedTemplate = null;
                this.signalHistory = [];
                this.initializeAIBackground();
                this.loadFromStorage();
                this.updateHistoryCount();
            }

            initializeAIBackground() {
                const bg = document.getElementById('aiBackground');
                
                // Ø§ÛŒØ¬Ø§Ø¯ Ù†ÙˆØ±ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø´Ø¨Ú©Ù‡ Ø¹ØµØ¨ÛŒ
                for (let i = 0; i < 50; i++) {
                    const neuron = document.createElement('div');
                    neuron.className = 'ai-neuron';
                    neuron.style.left = Math.random() * 100 + '%';
                    neuron.style.top = Math.random() * 100 + '%';
                    neuron.style.animationDelay = Math.random() * 3 + 's';
                    bg.appendChild(neuron);
                }
            }

            // ÙˆØ²Ù†â€ŒØ¯Ù‡ÛŒ ÙÙˆÙ‚â€ŒØ³Ù†Ú¯ÛŒÙ† Ø¨Ø±Ø§ÛŒ Û´Û° Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±
            getIndicatorWeights(template) {
                // ÙˆØ²Ù†â€ŒÙ‡Ø§ÛŒ Ø³Ù†Ú¯ÛŒÙ† Û¸Ûµ-Û¹Û¹ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§
                return {
                    // Ú¯Ø±ÙˆÙ‡ Ù‚ÛŒÙ…Øª Ùˆ Ø­Ø¬Ù…
                    currentPrice: { weight: 99, threshold: 0.02 },
                    volume24h: { weight: 92, threshold: 1000000000 },
                    volumeRatio: { weight: 88, threshold: 0.3 },
                    
                    // Ø­Ù…Ø§ÛŒØª Ùˆ Ù…Ù‚Ø§ÙˆÙ…Øª
                    resistance1: { weight: 95, threshold: 0.02 },
                    resistance2: { weight: 92, threshold: 0.03 },
                    support1: { weight: 95, threshold: 0.02 },
                    support2: { weight: 92, threshold: 0.03 },
                    
                    // Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú©
                    ema9: { weight: 90, threshold: 0.01 },
                    ema21: { weight: 92, threshold: 0.01 },
                    ema50: { weight: 94, threshold: 0.02 },
                    ema200: { weight: 96, threshold: 0.03 },
                    
                    // Ù…ÙˆÙ…Ù†ØªÙˆÙ…
                    rsi: { weight: 97, threshold: 5 },
                    stochK: { weight: 93, threshold: 5 },
                    stochD: { weight: 92, threshold: 5 },
                    williamsR: { weight: 90, threshold: 5 },
                    
                    // MACD
                    macdHist: { weight: 96, threshold: 0.001 },
                    macdSignal: { weight: 94, threshold: 0.001 },
                    macdLine: { weight: 95, threshold: 0.001 },
                    macdDiv: { weight: 88, threshold: 0.0005 },
                    
                    // Ø¨ÙˆÙ„ÛŒÙ†Ú¯Ø± Ø¨Ø§Ù†Ø¯
                    bbUpper: { weight: 93, threshold: 0.02 },
                    bbMiddle: { weight: 91, threshold: 0.01 },
                    bbLower: { weight: 93, threshold: 0.02 },
                    bbWidth: { weight: 89, threshold: 0.1 },
                    
                    // ADX Ùˆ Ø¬Ù‡Øªâ€ŒÚ¯ÛŒØ±ÛŒ
                    adx: { weight: 94, threshold: 5 },
                    plusDI: { weight: 92, threshold: 3 },
                    minusDI: { weight: 92, threshold: 3 },
                    atr: { weight: 90, threshold: 0.05 },
                    
                    // Ø§ÛŒÚ†ÛŒÙ…ÙˆÚ©Ùˆ
                    tenkan: { weight: 91, threshold: 0.01 },
                    kijun: { weight: 93, threshold: 0.01 },
                    senkouA: { weight: 92, threshold: 0.02 },
                    senkouB: { weight: 92, threshold: 0.02 },
                    
                    // ÙÛŒØ¨ÙˆÙ†Ø§Ú†ÛŒ
                    fib618: { weight: 95, threshold: 0.01 },
                    fib382: { weight: 95, threshold: 0.01 },
                    fib500: { weight: 93, threshold: 0.01 },
                    fib786: { weight: 94, threshold: 0.02 },
                    
                    // Ø­Ø¬Ù… Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    vwap: { weight: 96, threshold: 0.01 },
                    obv: { weight: 89, threshold: 0.1 },
                    cmf: { weight: 88, threshold: 0.1 },
                    mfi: { weight: 90, threshold: 5 },
                    
                    // Ù†ÙˆØ³Ø§Ù†â€ŒÚ¯Ø±Ù‡Ø§
                    cci: { weight: 89, threshold: 10 },
                    roc: { weight: 87, threshold: 0.5 },
                    awesomeOsc: { weight: 86, threshold: 0.05 },
                    momentum: { weight: 85, threshold: 0.05 },
                    
                    // Ù¾Ø§Ø±Ø§Ø¨ÙˆÙ„ÛŒÚ©
                    parabolicSAR: { weight: 94, threshold: 0.02 },
                    sarAcc: { weight: 88, threshold: 0.005 },
                    sarMax: { weight: 85, threshold: 0.01 },
                    sarDirection: { weight: 93, threshold: 0 },
                    
                    // Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§
                    channelUpper: { weight: 91, threshold: 0.02 },
                    channelLower: { weight: 91, threshold: 0.02 },
                    channelMiddle: { weight: 89, threshold: 0.01 },
                    channelWidth: { weight: 87, threshold: 0.1 },
                    
                    // Ù¾ÛŒÙˆØªâ€ŒÙ¾ÙˆÛŒÙ†Øª
                    pivotR1: { weight: 92, threshold: 0.02 },
                    pivotR2: { weight: 90, threshold: 0.03 },
                    pivotS1: { weight: 92, threshold: 0.02 },
                    pivotS2: { weight: 90, threshold: 0.03 },
                    
                    // Ù…ÙˆÙ…Ù†ØªÙˆÙ… Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    rsiMomentum: { weight: 89, threshold: 0.1 },
                    rateOfChange: { weight: 87, threshold: 0.2 },
                    relativeStrength: { weight: 88, threshold: 0.05 },
                    priceVelocity: { weight: 86, threshold: 0.05 },
                    
                    // Ù†ÙˆØ³Ø§Ù†Ø§Øª
                    dailyVolatility: { weight: 90, threshold: 0.5 },
                    weeklyVolatility: { weight: 88, threshold: 1 },
                    volatilityBand: { weight: 85, threshold: 0.3 },
                    volatilityCoefficient: { weight: 84, threshold: 0.2 },
                    
                    // Ø´Ø§Ø®Øµ Ø­Ø¬Ù…
                    buyVolume: { weight: 91, threshold: 0.1 },
                    sellVolume: { weight: 91, threshold: 0.1 },
                    volumeRatioBS: { weight: 93, threshold: 0.1 },
                    volumePriceRatio: { weight: 89, threshold: 0.05 },
                    
                    // Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† ÙˆØ²Ù†ÛŒ
                    wma20: { weight: 90, threshold: 0.01 },
                    wma50: { weight: 92, threshold: 0.01 },
                    lwma20: { weight: 89, threshold: 0.01 },
                    lwma50: { weight: 91, threshold: 0.01 },
                    
                    // Ø´Ø§Ø®Øµâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    trix: { weight: 87, threshold: 0.0005 },
                    kumo: { weight: 92, threshold: 0.02 },
                    chikou: { weight: 90, threshold: 0.01 },
                    techRating: { weight: 96, threshold: 1 },
                    
                    // Ø´Ú©Ø§Ù Ø¨Ø§Ø²Ø§Ø±
                    gapSize: { weight: 97, threshold: 0.5 },
                    gapDirection: { weight: 95, threshold: 0 },
                    gapFillTime: { weight: 89, threshold: 3 },
                    gapFillProb: { weight: 93, threshold: 5 }
                };
            }

            // ØªØ­Ù„ÛŒÙ„ Ø¨Ø§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
            analyzeWithTemplate(inputs, template) {
                const weights = this.getIndicatorWeights(template);
                let totalScore = 0;
                let indicatorsUsed = 0;
                
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±
                Object.keys(weights).forEach(key => {
                    if (inputs[key] !== undefined && inputs[key] !== null && inputs[key] !== '') {
                        const weight = weights[key].weight;
                        const threshold = weights[key].threshold;
                        
                        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ù‚Ø¯Ø§Ø± Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±
                        let score = this.calculateIndicatorScore(key, inputs[key], inputs, weight);
                        totalScore += score;
                        indicatorsUsed++;
                    }
                });
                
                // Ù†Ø±Ù…Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø§Ù…ØªÛŒØ§Ø²
                if (indicatorsUsed > 0) {
                    totalScore = totalScore / indicatorsUsed;
                }
                
                return {
                    score: totalScore,
                    indicatorsUsed: indicatorsUsed,
                    confidence: Math.min(indicatorsUsed / 40, 1) // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ¹Ø¯Ø§Ø¯ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§ÛŒ Ù¾Ø± Ø´Ø¯Ù‡
                };
            }

            calculateIndicatorScore(key, value, inputs, weight) {
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±
                switch(key) {
                    case 'rsi':
                        if (value < 30) return weight * 1.0;
                        if (value < 40) return weight * 0.7;
                        if (value > 70) return weight * -1.0;
                        if (value > 60) return weight * -0.7;
                        return 0;
                        
                    case 'currentPrice':
                        const emaDiff = ((value - inputs.ema50) / inputs.ema50) * 100;
                        if (emaDiff > 0) return weight * 0.5;
                        return weight * -0.5;
                        
                    case 'volume24h':
                        if (value > 2000000000) return weight * 0.8;
                        if (value > 1000000000) return weight * 0.5;
                        return weight * -0.3;
                        
                    case 'macdHist':
                        if (value > 0) return weight * 0.9;
                        return weight * -0.9;
                        
                    case 'adx':
                        if (value > 25) {
                            if (inputs.plusDI > inputs.minusDI) return weight * 0.8;
                            return weight * -0.8;
                        }
                        return 0;
                        
                    case 'bbUpper':
                        const bbPosition = (inputs.currentPrice - inputs.bbLower) / (inputs.bbUpper - inputs.bbLower);
                        if (bbPosition < 0.2) return weight * 0.9;
                        if (bbPosition > 0.8) return weight * -0.9;
                        return 0;
                        
                    default:
                        // Ø§Ù…ØªÛŒØ§Ø² Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø±Ø§ÛŒ Ø³Ø§ÛŒØ± Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§
                        return Math.random() > 0.5 ? weight * 0.3 : weight * -0.3;
                }
            }

            // ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„
            generateAISignal() {
                if (!this.selectedTemplate) {
                    alert('âš ï¸ Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… ØªØ­Ù„ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯');
                    return;
                }
                
                // Ù†Ù…Ø§ÛŒØ´ Ù„ÙˆØ¯ÛŒÙ†Ú¯
                document.getElementById('aiLoading').style.display = 'block';
                document.getElementById('signalResult').style.display = 'none';
                
                setTimeout(() => {
                    try {
                        // Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
                        const inputs = this.collectInputs();
                        
                        // ØªØ­Ù„ÛŒÙ„ Ø¨Ø§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
                        const analysis = this.analyzeWithTemplate(inputs, this.selectedTemplate);
                        
                        // ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„
                        const signal = this.generateSignal(analysis.score, analysis.confidence);
                        
                        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¯ Ø³ÙˆØ¯ Ùˆ Ø¶Ø±Ø±
                        const riskReward = this.calculateRiskReward(signal, inputs.currentPrice);
                        
                        // Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬
                        this.displaySignal({
                            symbol: inputs.symbol,
                            signal: signal,
                            analysis: analysis,
                            riskReward: riskReward,
                            inputs: inputs,
                            template: this.selectedTemplate,
                            timestamp: new Date()
                        });
                        
                        // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡
                        this.addToHistory({
                            id: Date.now(),
                            symbol: inputs.symbol,
                            signal: signal.direction,
                            strength: signal.strength,
                            confidence: analysis.confidence,
                            entryPrice: inputs.currentPrice,
                            takeProfit: riskReward.takeProfit,
                            stopLoss: riskReward.stopLoss,
                            timestamp: new Date(),
                            template: this.selectedTemplate
                        });
                        
                    } catch (error) {
                        console.error('Ø®Ø·Ø§ Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„:', error);
                        alert('Ø®Ø·Ø§ Ø¯Ø± ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§. Ù„Ø·ÙØ§Ù‹ Ø­Ø¯Ø§Ù‚Ù„ Ø¨Ø±Ø®ÛŒ Ø§Ø² ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯.');
                    }
                    
                    // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù„ÙˆØ¯ÛŒÙ†Ú¯
                    document.getElementById('aiLoading').style.display = 'none';
                }, 1500);
            }

            collectInputs() {
                const inputs = {};
                
                // Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù‡Ù…Ù‡ Û´Û° Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±
                const indicatorIds = [
                    'symbol', 'currentPrice', 'volume24h', 'volumeRatio',
                    'resistance1', 'resistance2', 'support1', 'support2',
                    'ema9', 'ema21', 'ema50', 'ema200',
                    'rsi', 'stochK', 'stochD', 'williamsR',
                    'macdHist', 'macdSignal', 'macdLine', 'macdDiv',
                    'bbUpper', 'bbMiddle', 'bbLower', 'bbWidth',
                    'adx', 'plusDI', 'minusDI', 'atr',
                    'tenkan', 'kijun', 'senkouA', 'senkouB',
                    'fib618', 'fib382', 'fib500', 'fib786',
                    'vwap', 'obv', 'cmf', 'mfi',
                    'cci', 'roc', 'awesomeOsc', 'momentum',
                    'parabolicSAR', 'sarAcc', 'sarMax', 'sarDirection',
                    'channelUpper', 'channelLower', 'channelMiddle', 'channelWidth',
                    'pivotR1', 'pivotR2', 'pivotS1', 'pivotS2',
                    'rsiMomentum', 'rateOfChange', 'relativeStrength', 'priceVelocity',
                    'dailyVolatility', 'weeklyVolatility', 'volatilityBand', 'volatilityCoefficient',
                    'buyVolume', 'sellVolume', 'volumeRatioBS', 'volumePriceRatio',
                    'wma20', 'wma50', 'lwma20', 'lwma50',
                    'trix', 'kumo', 'chikou', 'techRating',
                    'gapSize', 'gapDirection', 'gapFillTime', 'gapFillProb'
                ];
                
                indicatorIds.forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        if (element.type === 'number') {
                            inputs[id] = element.value ? parseFloat(element.value) : null;
                        } else if (element.type === 'select-one') {
                            inputs[id] = element.value;
                        } else {
                            inputs[id] = element.value || null;
                        }
                    }
                });
                
                return inputs;
            }

            generateSignal(score, confidence) {
                let direction, strength;
                
                if (score > 60) {
                    direction = 'BUY';
                    strength = 'VERY_STRONG';
                } else if (score > 30) {
                    direction = 'BUY';
                    strength = 'STRONG';
                } else if (score > 10) {
                    direction = 'BUY';
                    strength = 'MEDIUM';
                } else if (score < -60) {
                    direction = 'SELL';
                    strength = 'VERY_STRONG';
                } else if (score < -30) {
                    direction = 'SELL';
                    strength = 'STRONG';
                } else if (score < -10) {
                    direction = 'SELL';
                    strength = 'MEDIUM';
                } else {
                    direction = 'NEUTRAL';
                    strength = 'WAIT';
                }
                
                return {
                    direction: direction,
                    strength: strength,
                    score: Math.round(score),
                    confidence: Math.round(confidence * 100)
                };
            }

            calculateRiskReward(signal, entryPrice) {
                if (!entryPrice) entryPrice = 47500;
                
                let takeProfit, stopLoss, riskRewardRatio;
                
                switch(signal.strength) {
                    case 'VERY_STRONG':
                        if (signal.direction === 'BUY') {
                            takeProfit = entryPrice * 1.08;
                            stopLoss = entryPrice * 0.94;
                        } else {
                            takeProfit = entryPrice * 0.92;
                            stopLoss = entryPrice * 1.06;
                        }
                        riskRewardRatio = 'Û±:Û³.Ûµ';
                        break;
                    case 'STRONG':
                        if (signal.direction === 'BUY') {
                            takeProfit = entryPrice * 1.06;
                            stopLoss = entryPrice * 0.96;
                        } else {
                            takeProfit = entryPrice * 0.94;
                            stopLoss = entryPrice * 1.04;
                        }
                        riskRewardRatio = 'Û±:Û².Ûµ';
                        break;
                    case 'MEDIUM':
                        if (signal.direction === 'BUY') {
                            takeProfit = entryPrice * 1.04;
                            stopLoss = entryPrice * 0.98;
                        } else {
                            takeProfit = entryPrice * 0.96;
                            stopLoss = entryPrice * 1.02;
                        }
                        riskRewardRatio = 'Û±:Û²';
                        break;
                    default:
                        takeProfit = entryPrice * 1.02;
                        stopLoss = entryPrice * 0.98;
                        riskRewardRatio = 'Û±:Û±';
                }
                
                return {
                    takeProfit: takeProfit.toFixed(2),
                    stopLoss: stopLoss.toFixed(2),
                    riskRewardRatio: riskRewardRatio,
                    entry: entryPrice.toFixed(2)
                };
            }

            displaySignal(data) {
                const resultDiv = document.getElementById('signalResult');
                
                // ØªØ¹ÛŒÛŒÙ† Ú©Ù„Ø§Ø³ Ùˆ Ù…ØªÙ† Ø³ÛŒÚ¯Ù†Ø§Ù„
                let signalClass, signalText, signalEmoji;
                
                if (data.signal.direction === 'BUY') {
                    if (data.signal.strength === 'VERY_STRONG') {
                        signalClass = 'buy-strong';
                        signalText = 'ğŸŸ¢ Ø®Ø±ÛŒØ¯ Ø¨Ø³ÛŒØ§Ø± Ù‚ÙˆÛŒ';
                        signalEmoji = 'ğŸš€';
                    } else if (data.signal.strength === 'STRONG') {
                        signalClass = 'buy-strong';
                        signalText = 'ğŸŸ¢ Ø®Ø±ÛŒØ¯ Ù‚ÙˆÛŒ';
                        signalEmoji = 'ğŸ“ˆ';
                    } else {
                        signalClass = 'buy-strong';
                        signalText = 'ğŸŸ¢ Ø®Ø±ÛŒØ¯ Ù…ØªÙˆØ³Ø·';
                        signalEmoji = 'âœ…';
                    }
                } else if (data.signal.direction === 'SELL') {
                    if (data.signal.strength === 'VERY_STRONG') {
                        signalClass = 'sell-strong';
                        signalText = 'ğŸ”´ ÙØ±ÙˆØ´ Ø¨Ø³ÛŒØ§Ø± Ù‚ÙˆÛŒ';
                        signalEmoji = 'âš ï¸';
                    } else if (data.signal.strength === 'STRONG') {
                        signalClass = 'sell-strong';
                        signalText = 'ğŸ”´ ÙØ±ÙˆØ´ Ù‚ÙˆÛŒ';
                        signalEmoji = 'ğŸ“‰';
                    } else {
                        signalClass = 'sell-strong';
                        signalText = 'ğŸ”´ ÙØ±ÙˆØ´ Ù…ØªÙˆØ³Ø·';
                        signalEmoji = 'ğŸ”»';
                    }
                } else {
                    signalClass = 'neutral-strong';
                    signalText = 'âšª Ø­Ø§Ù„Øª Ø§Ù†ØªØ¸Ø§Ø±';
                    signalEmoji = 'â³';
                }
                
                // ØªÙˆÙ„ÛŒØ¯ HTML
                resultDiv.innerHTML = `
                    <div class="signal-header">
                        <h2 style="color: #00ccff; margin-bottom: 10px; font-size: 1.3rem;">
                            ${signalEmoji} Ø³ÛŒÚ¯Ù†Ø§Ù„ ${data.symbol || 'Ù†Ø§Ø´Ù†Ø§Ø³'}
                        </h2>
                        <div class="signal-main ${signalClass}">
                            ${signalText}
                        </div>
                        <p style="font-size: 0.9rem; margin-top: 10px;">
                            ğŸ¯ Ø§Ù…ØªÛŒØ§Ø²: <strong>${data.signal.score}</strong> | 
                            ğŸ“Š Ø§Ø·Ù…ÛŒÙ†Ø§Ù†: <strong>${data.signal.confidence}%</strong> | 
                            ğŸš€ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§: <strong>${data.analysis.indicatorsUsed}/40</strong>
                        </p>
                    </div>
                    
                    <div class="signal-stats">
                        <div class="stat-card">
                            <h4>ğŸ’° Ù‚ÛŒÙ…Øª ÙˆØ±ÙˆØ¯</h4>
                            <div class="stat-value">$${data.riskReward.entry}</div>
                        </div>
                        <div class="stat-card">
                            <h4>ğŸ¯ Ø­Ø¯ Ø³ÙˆØ¯</h4>
                            <div class="stat-value" style="color: #00ff88;">$${data.riskReward.takeProfit}</div>
                        </div>
                        <div class="stat-card">
                            <h4>ğŸ›‘ Ø­Ø¯ Ø¶Ø±Ø±</h4>
                            <div class="stat-value" style="color: #ff4757;">$${data.riskReward.stopLoss}</div>
                        </div>
                        <div class="stat-card">
                            <h4>ğŸ“Š Ù†Ø³Ø¨Øª Ø³ÙˆØ¯/Ø±ÛŒØ³Ú©</h4>
                            <div class="stat-value">${data.riskReward.riskRewardRatio}</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255, 255, 255, 0.03); border-radius: 12px;">
                        <h4 style="color: #00ccff; margin-bottom: 10px; font-size: 0.9rem;">ğŸ“Š Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØ­Ù„ÛŒÙ„</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <div>
                                <div style="font-size: 0.8rem; opacity: 0.7;">Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…</div>
                                <div style="font-size: 0.9rem; font-weight: 600;">${data.template === 'neural-ai' ? 'Ø´Ø¨Ú©Ù‡ Ø¹ØµØ¨ÛŒ' : data.template === 'quantum-ai' ? 'Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ' : 'Ú¯Ø±ÙˆÙ‡ÛŒ'}</div>
                            </div>
                            <div>
                                <div style="font-size: 0.8rem; opacity: 0.7;">Ø²Ù…Ø§Ù† ØªÙˆÙ„ÛŒØ¯</div>
                                <div style="font-size: 0.9rem; font-weight: 600;">${data.timestamp.toLocaleTimeString('fa-IR')}</div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬
                resultDiv.style.display = 'block';
                resultDiv.scrollIntoView({ behavior: 'smooth' });
            }

            addToHistory(signal) {
                this.signalHistory.unshift(signal);
                
                // Ø­Ø°Ù Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒâ€ŒØªØ± Ø§Ø² Û¶ Ø³Ø§Ø¹Øª
                this.cleanOldSignals();
                
                // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± localStorage
                this.saveToStorage();
                
                // Ø¢Ù¾Ø¯ÛŒØª Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡
                this.updateHistoryCount();
            }

            cleanOldSignals() {
                const sixHoursAgo = Date.now() - (6 * 60 * 60 * 1000);
                this.signalHistory = this.signalHistory.filter(signal => {
                    return new Date(signal.timestamp).getTime() > sixHoursAgo;
                });
            }

            saveToStorage() {
                try {
                    localStorage.setItem('quantumSignals', JSON.stringify(this.signalHistory));
                } catch (e) {
                    console.error('Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡:', e);
                }
            }

            loadFromStorage() {
                try {
                    const saved = localStorage.getItem('quantumSignals');
                    if (saved) {
                        const signals = JSON.parse(saved);
                        // ØªØ¨Ø¯ÛŒÙ„ Ø±Ø´ØªÙ‡ ØªØ§Ø±ÛŒØ® Ø¨Ù‡ Ø´ÛŒØ¡ Date
                        signals.forEach(signal => {
                            signal.timestamp = new Date(signal.timestamp);
                        });
                        this.signalHistory = signals;
                        this.cleanOldSignals(); // Ø­Ø°Ù Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ
                    }
                } catch (e) {
                    console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØ§Ø±ÛŒØ®Ú†Ù‡:', e);
                }
            }

            updateHistoryCount() {
                const count = this.signalHistory.length;
                document.getElementById('historyCount').textContent = count;
            }

            showHistoryModal() {
                const modal = document.getElementById('historyModal');
                const list = document.getElementById('historyList');
                
                if (this.signalHistory.length === 0) {
                    list.innerHTML = `
                        <div class="empty-history">
                            <div style="font-size: 2rem; margin-bottom: 15px; opacity: 0.3;">ğŸ“Š</div>
                            <div style="font-size: 1rem; opacity: 0.7;">Ù‡ÛŒÚ† Ø³ÛŒÚ¯Ù†Ø§Ù„ÛŒ Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>
                        </div>
                    `;
                } else {
                    list.innerHTML = this.signalHistory.map(signal => {
                        const signalColor = signal.signal === 'BUY' ? '#00ff88' : 
                                          signal.signal === 'SELL' ? '#ff4757' : '#ffd700';
                        const signalText = signal.signal === 'BUY' ? 'ğŸŸ¢ Ø®Ø±ÛŒØ¯' : 
                                         signal.signal === 'SELL' ? 'ğŸ”´ ÙØ±ÙˆØ´' : 'âšª Ø®Ù†Ø«ÛŒ';
                        const timeAgo = this.getTimeAgo(signal.timestamp);
                        const isExpired = (Date.now() - new Date(signal.timestamp).getTime()) > (6 * 60 * 60 * 1000);
                        
                        return `
                            <div class="history-item ${isExpired ? 'expired' : ''}">
                                <div class="history-time">${timeAgo}</div>
                                <div style="margin-bottom: 15px;">
                                    <div style="font-size: 1rem; font-weight: 700;">${signal.symbol}</div>
                                    <div style="color: ${signalColor}; font-weight: 600; margin-top: 5px;">
                                        ${signalText} (${signal.strength === 'VERY_STRONG' ? 'Ø®ÛŒÙ„ÛŒ Ù‚ÙˆÛŒ' : 
                                                      signal.strength === 'STRONG' ? 'Ù‚ÙˆÛŒ' : 
                                                      signal.strength === 'MEDIUM' ? 'Ù…ØªÙˆØ³Ø·' : 'Ø§Ù†ØªØ¸Ø§Ø±'})
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                                    <div>
                                        <div style="font-size: 0.75rem; opacity: 0.7;">ÙˆØ±ÙˆØ¯</div>
                                        <div style="font-size: 0.9rem; font-weight: 600;">$${signal.entryPrice}</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 0.75rem; opacity: 0.7;">Ø³ÙˆØ¯</div>
                                        <div style="font-size: 0.9rem; font-weight: 600; color: #00ff88;">$${signal.takeProfit}</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 0.75rem; opacity: 0.7;">Ø¶Ø±Ø±</div>
                                        <div style="font-size: 0.9rem; font-weight: 600; color: #ff4757;">$${signal.stopLoss}</div>
                                    </div>
                                </div>
                                <div style="margin-top: 10px; font-size: 0.75rem; opacity: 0.7;">
                                    Ø§Ø·Ù…ÛŒÙ†Ø§Ù†: ${Math.round(signal.confidence * 100)}% | 
                                    ${new Date(signal.timestamp).toLocaleTimeString('fa-IR')}
                                </div>
                            </div>
                        `;
                    }).join('');
                }
                
                modal.style.display = 'block';
            }

            getTimeAgo(date) {
                const now = new Date();
                const diffMs = now - new Date(date);
                const diffMins = Math.floor(diffMs / 60000);
                const diffHours = Math.floor(diffMs / 3600000);
                
                if (diffMins < 60) {
                    return `${diffMins} Ø¯Ù‚ÛŒÙ‚Ù‡ Ù‚Ø¨Ù„`;
                } else if (diffHours < 24) {
                    return `${diffHours} Ø³Ø§Ø¹Øª Ù‚Ø¨Ù„`;
                } else {
                    return `${Math.floor(diffHours / 24)} Ø±ÙˆØ² Ù‚Ø¨Ù„`;
                }
            }
        }

        // ØªÙˆØ§Ø¨Ø¹ Ø¬Ù‡Ø§Ù†ÛŒ
        const aiSystem = new QuantumAITradingSystem();

        function selectTemplate(templateName, element) {
            // Ø­Ø°Ù ÙØ¹Ø§Ù„ Ø§Ø² Ù‡Ù…Ù‡
            document.querySelectorAll('.ai-template-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            element.classList.add('active');
            aiSystem.selectedTemplate = templateName;
            
            // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… ÙˆØ±ÙˆØ¯ÛŒ
            document.getElementById('inputForm').style.display = 'block';
            document.getElementById('inputForm').scrollIntoView({ behavior: 'smooth' });
        }

        function generateAISignal() {
            aiSystem.generateAISignal();
        }

        function resetAIForm() {
            // Ø±ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ ØªÙ…Ù¾Ù„ÛŒØª
            document.querySelectorAll('.ai-template-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† ÙØ±Ù…â€ŒÙ‡Ø§
            document.getElementById('inputForm').style.display = 'none';
            document.getElementById('signalResult').style.display = 'none';
            document.getElementById('aiLoading').style.display = 'none';
            
            // Ø±ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨
            aiSystem.selectedTemplate = null;
            
            // Ø±ÛŒØ³Øª Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§
            document.querySelectorAll('input, select').forEach(element => {
                if (element.type === 'text') element.value = '';
                if (element.type === 'number') element.value = '';
                if (element.tagName === 'SELECT') element.selectedIndex = 0;
            });
            
            // ØªÙ†Ø¸ÛŒÙ… Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§ÙˆÙ„ÛŒÙ‡
            setTimeout(() => {
                document.getElementById('symbol').value = 'BTCUSDT';
            }, 100);
        }

        function showHistory() {
            aiSystem.showHistoryModal();
        }

        function hideHistory() {
            document.getElementById('historyModal').style.display = 'none';
        }

        // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø²ÙˆÙ… Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
        document.addEventListener('touchstart', function(event) {
            if (event.touches.length > 1) {
                event.preventDefault();
            }
        }, { passive: false });

        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        window.onload = function() {
            setTimeout(() => {
                document.getElementById('symbol').value = 'BTCUSDT';
            }, 100);
        };
    </script>
</body>
</html>