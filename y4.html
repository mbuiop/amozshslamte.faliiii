<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>گالری والپیپر | 200 تصویر منحصر به فرد</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #8b5cf6;
            --primary-dark: #7c3aed;
            --light: #ffffff;
            --dark: #1f2937;
            --gray: #6b7280;
            --card-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            --border-radius: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Vazirmatn', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: var(--dark);
            min-height: 100vh;
            padding: 16px;
            touch-action: pan-y;
            -webkit-user-select: none;
            user-select: none;
        }
        
        /* جلوگیری از زوم */
        body * {
            touch-action: manipulation;
        }
        
        img {
            -webkit-user-drag: none;
            user-drag: none;
            pointer-events: none;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* هدر */
        .header {
            text-align: center;
            margin-bottom: 32px;
            padding-top: 24px;
        }
        
        .header h1 {
            font-size: 2rem;
            color: var(--dark);
            font-weight: 800;
            margin-bottom: 8px;
            background: linear-gradient(135deg, var(--primary), #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header p {
            color: var(--gray);
            font-size: 1rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        /* فیلترها */
        .categories {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }
        
        .category-btn {
            background: var(--light);
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 10px 24px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .category-btn.active {
            background: var(--primary);
            color: white;
        }
        
        .category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
        }
        
        /* گالری */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        
        @media (min-width: 768px) {
            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 24px;
            }
        }
        
        .wallpaper-card {
            background: var(--light);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            position: relative;
            border: 1px solid rgba(0,0,0,0.05);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .wallpaper-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .image-container {
            position: relative;
            width: 100%;
            height: 280px;
            overflow: hidden;
            background: #f5f5f5;
        }
        
        .wallpaper-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
        }
        
        .wallpaper-card:hover .wallpaper-image {
            transform: scale(1.05);
        }
        
        .download-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: var(--transition);
        }
        
        .wallpaper-card:hover .download-overlay {
            opacity: 1;
        }
        
        .download-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            transform: translateY(20px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
        }
        
        .wallpaper-card:hover .download-btn {
            transform: translateY(0);
        }
        
        .download-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 25px rgba(139, 92, 246, 0.4);
        }
        
        .download-btn i {
            font-size: 1.2rem;
        }
        
        /* برچسب دسته */
        .category-tag {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }
        
        /* شماره تصویر */
        .image-number {
            position: absolute;
            top: 16px;
            left: 16px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            z-index: 2;
        }
        
        /* فوتر */
        .footer {
            text-align: center;
            margin-top: 60px;
            padding: 30px 20px;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid rgba(0,0,0,0.1);
        }
        
        .counter {
            background: var(--primary);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 16px;
            display: inline-block;
        }
        
        /* نوتیفیکیشن */
        .notification {
            position: fixed;
            bottom: 24px;
            right: 50%;
            transform: translateX(50%);
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 18px 30px;
            border-radius: 50px;
            box-shadow: 0 15px 35px rgba(139, 92, 246, 0.3);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 14px;
            font-weight: 700;
            animation: slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), fadeOut 0.3s ease 2.5s forwards;
            max-width: 90%;
        }
        
        @keyframes slideUp {
            from { 
                bottom: -100px; 
                opacity: 0; 
                transform: translateX(50%) scale(0.8);
            }
            to { 
                bottom: 24px; 
                opacity: 1; 
                transform: translateX(50%) scale(1);
            }
        }
        
        @keyframes fadeOut {
            to { 
                opacity: 0; 
                visibility: hidden;
                transform: translateX(50%) scale(0.9);
            }
        }
        
        /* لودر */
        .loader {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 24px;
        }
        
        .loader.active {
            display: flex;
        }
        
        .spinner {
            width: 70px;
            height: 70px;
            border: 6px solid rgba(139, 92, 246, 0.1);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* استایل موبایل */
        @media (max-width: 480px) {
            .gallery {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .image-container {
                height: 240px;
            }
            
            .header h1 {
                font-size: 1.6rem;
            }
            
            .download-btn {
                padding: 14px 24px;
                font-size: 0.9rem;
            }
            
            .categories {
                gap: 8px;
            }
            
            .category-btn {
                padding: 8px 16px;
                font-size: 0.9rem;
            }
        }
        
        /* انیمیشن برای فیلتر */
        @keyframes filterChange {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        .gallery.filtered {
            animation: filterChange 0.3s ease;
        }
        
        /* استایل برای تصاویر در حال بارگذاری */
        .loading-image {
            filter: blur(5px);
            opacity: 0.7;
        }
        
        .loaded-image {
            filter: blur(0);
            opacity: 1;
            transition: filter 0.3s ease, opacity 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- لودر -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
        <p>در حال بارگذاری والپیپرها...</p>
    </div>
    
    <!-- نوتیفیکیشن -->
    <div id="notification-container"></div>
    
    <!-- محتوا -->
    <div class="container">
        <header class="header">
            <h1>گالری والپیپر حرفه‌ای</h1>
            <p>مجموعه‌ای از ۲۰۰ والپیپر منحصر به فرد در ۴ دسته مختلف</p>
            <div class="counter" id="counter">تعداد والپیپرها: 200</div>
        </header>
        
        <!-- فیلتر دسته‌ها -->
        <div class="categories">
            <button class="category-btn active" data-category="all">همه تصاویر</button>
            <button class="category-btn" data-category="nature">طبیعت (۵۰ تصویر)</button>
            <button class="category-btn" data-category="city">شهر/ساختمان (۵۰ تصویر)</button>
            <button class="category-btn" data-category="tech">تکنولوژی (۵۰ تصویر)</button>
            <button class="category-btn" data-category="art">هنر/خلاقیت (۵۰ تصویر)</button>
        </div>
        
        <main>
            <div class="gallery" id="gallery">
                <!-- والپیپرها اینجا ساخته می‌شوند -->
            </div>
        </main>
        
        <footer class="footer">
            <p>تمام تصاویر با کیفیت بالا و رایگان قابل دانلود هستند</p>
            <p>© 2024 گالری والپیپر حرفه‌ای</p>
        </footer>
    </div>

    <script>
        // لیست ۲۰۰ والپیپر کاملاً متفاوت با Picsum Photos
        // Picsum Photos تصاویر رندوم و متفاوت ارائه می‌دهد
        const wallpapers = [];
        
        // تولید 200 تصویر کاملاً متفاوت
        for (let i = 1; i <= 200; i++) {
            const categories = ['nature', 'city', 'tech', 'art'];
            const category = categories[Math.floor((i-1) / 50)];
            
            // نام‌های مختلف برای هر دسته
            let name = '';
            if (category === 'nature') {
                const natureNames = [
                    "جنگل سرسبز", "کوهستان برفی", "آبشار طبیعی", "ساحل طلوع", "بیابان شنی",
                    "دریاچه کریستالی", "شفق قطبی", "جنگل پاییزی", "کوه مه‌آلود", "رودخانه کوهستانی",
                    "جنگل بارانی", "آتشفشان", "دره عمیق", "ساحل غروب", "کوه یخی",
                    "جنگل بهاری", "دریاچه برفی", "بیابان طلایی", "جنگل زمستانی", "آبشار بلند",
                    "کوه راکی", "ساحل صخره‌ای", "جنگل مه‌آلود", "دریاچه آینه", "کوه آتشفشانی",
                    "جنگل ابری", "رودخانه زلال", "ساحل شنی", "کوه برفی شمالی", "جنگل تابستانی",
                    "دریاچه کوهستانی", "آبشار طبیعی بزرگ", "کوه دوقلو", "جنگل قدیمی", "ساحل صبحگاهی",
                    "کوه مرتفع", "جنگل گل‌های وحشی", "دریاچه یخ‌زده", "آبشار مه‌آلود", "کوه صخره‌ای",
                    "جنگل رویایی", "ساحل عصرگاهی", "کوه زمستانی", "جنگل افسانه‌ای", "دریاچه طلوع",
                    "آبشار کوهستانی", "کوه تابستانی", "جنگل رنگی", "ساحل شب", "کوه بهاری"
                ];
                name = natureNames[(i-1) % 50];
            } else if (category === 'city') {
                const cityNames = [
                    "ساختمان مدرن", "آسمانخراش", "ساختمان شیشه‌ای", "پل معلق", "خیابان شهری",
                    "معماری کلاسیک", "برج مدرن", "ساختمان تاریخی", "پل بزرگ", "خیابان شب",
                    "معماری مدرن", "ساختمان سفید", "برج دوقلو", "ساختمان قدیمی", "پل رنگارنگ",
                    "خیابان مدرن", "معماری مینیمال", "ساختمان لوکس", "برج بلند", "ساختمان سنتی",
                    "پل تاریخی", "خیابان قدیمی", "معماری آینده‌نگر", "ساختمان مدرن شب", "برج شیشه‌ای",
                    "ساختمان کلاسیک", "پل مدرن", "خیابان شلوغ", "معماری هنری", "ساختمان فانتزی",
                    "برج طلایی", "ساختمان نقرهای", "پل طلوع", "خیابان خلوت", "معماری مدرن اروپایی",
                    "ساختمان مدرن آسیایی", "برج آمریکایی", "ساختمان اروپایی", "پل شب", "خیابان بارانی",
                    "معماری سنتی", "ساختمان مدرن با استخر", "برج با نورپردازی", "ساختمان با فضای سبز",
                    "پل با منظره", "خیابان پاییزی", "معماری مدرن زمستانی", "ساختمان مدرن بهاری",
                    "برج تابستانی", "ساختمان پاییزی"
                ];
                name = cityNames[(i-1) % 50];
            } else if (category === 'tech') {
                const techNames = [
                    "کد نویسی", "ربات هوشمند", "داده‌های دیجیتال", "شبکه عصبی", "هوش مصنوعی",
                    "سیستم امنیتی", "داده‌پردازی", "ربات صنعتی", "داده‌های بزرگ", "شبکه کامپیوتری",
                    "الگوریتم", "امنیت سایبری", "برنامه‌نویسی", "ربات انسان‌نما", "پردازش ابری",
                    "شبکه اجتماعی", "یادگیری ماشین", "حفاظت داده", "کدنویسی پیشرفته", "ربات پیشرفته",
                    "داده‌کاوی", "شبکه پیچیده", "هوش مصنوعی پیشرفته", "امنیت پیشرفته", "برنامه‌نویسی وب",
                    "ربات خدماتی", "داده‌های ساختار یافته", "شبکه عصبی مصنوعی", "الگوریتم پیچیده", "حفاظت پیشرفته",
                    "توسعه نرم‌افزار", "ربات پزشکی", "پایگاه داده", "شبکه ارتباطی", "پردازش زبان طبیعی",
                    "امنیت شبکه", "برنامه‌نویسی موبایل", "ربات آموزشی", "داده‌های واقعی", "شبکه گسترده",
                    "بینایی ماشین", "امنیت اطلاعات", "توسعه بازی", "ربات صنعتی پیشرفته", "داده‌های عظیم",
                    "شبکه‌های اجتماعی", "یادگیری عمیق", "امنیت سایبری پیشرفته", "برنامه‌نویسی ابری", "ربات آینده‌نگر"
                ];
                name = techNames[(i-1) % 50];
            } else {
                const artNames = [
                    "نقاشی دیجیتال", "طراحی گرافیک", "نورپردازی هنری", "مجسمه مدرن", "عکاسی خلاق",
                    "طراحی داخلی", "نقاشی انتزاعی", "گرافیک مدرن", "نور و رنگ", "مجسمه خلاق",
                    "عکاسی مفهومی", "دکوراسیون مدرن", "نقاشی مدرن", "طراحی خلاق", "هنر نور",
                    "مجسمه انتزاعی", "عکاسی هنری", "طراحی فضا", "نقاشی دیجیتال پیشرفته", "گرافیک خلاق",
                    "نورپردازی خلاق", "مجسمه بزرگ", "عکاسی انتزاعی", "دکوراسیون خلاق", "نقاشی رنگارنگ",
                    "طراحی مدرن", "هنر نور و سایه", "مجسمه کوچک", "عکاسی تجربی", "طراحی فانتزی",
                    "نقاشی بزرگ", "گرافیک رنگارنگ", "نورپردازی رنگی", "مجسمه رنگارنگ", "عکاسی رنگی",
                    "دکوراسیون رنگارنگ", "نقاشی انتزاعی بزرگ", "طراحی انتزاعی", "هنر نور مدرن", "مجسمه مدرن بزرگ",
                    "عکاسی مدرن", "طراحی داخلی مدرن", "نقاشی دیجیتال خلاق", "گرافیک دیجیتال", "نورپردازی دیجیتال",
                    "مجسمه دیجیتال", "عکاسی دیجیتال", "طراحی دیجیتال", "هنر دیجیتال", "خلاقیت دیجیتال"
                ];
                name = artNames[(i-1) % 50];
            }
            
            // استفاده از Picsum Photos با IDهای مختلف برای تصاویر متفاوت
            // هر تصویر ID منحصر به فرد دارد
            const imageId = i;
            const width = 800;
            const height = 1200;
            
            wallpapers.push({
                id: i,
                name: name,
                category: category,
                url: `https://picsum.photos/id/${imageId}/${width}/${height}`
            });
        }

        // اجرای اصلی
        document.addEventListener('DOMContentLoaded', function() {
            createGallery();
            setupFilterButtons();
            
            // تایید بارگذاری تصاویر
            setTimeout(() => {
                checkAllImagesLoaded();
            }, 2000);
        });

        // بررسی بارگذاری تصاویر
        function checkAllImagesLoaded() {
            const images = document.querySelectorAll('.wallpaper-image');
            let loadedCount = 0;
            images.forEach(img => {
                if (img.complete && img.naturalHeight !== 0) {
                    loadedCount++;
                    img.classList.remove('loading-image');
                    img.classList.add('loaded-image');
                }
            });
            
            console.log(`${loadedCount} از ${images.length} تصویر بارگذاری شدند`);
            
            if (loadedCount === images.length) {
                showNotification('تمامی 200 والپیپر با موفقیت بارگذاری شدند!');
            }
        }

        // ایجاد گالری
        function createGallery() {
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = '';
            
            wallpapers.forEach(wallpaper => {
                const card = document.createElement('div');
                card.className = 'wallpaper-card';
                card.dataset.category = wallpaper.category;
                
                // ترجمه دسته‌بندی به فارسی
                let categoryLabel = '';
                switch(wallpaper.category) {
                    case 'nature': categoryLabel = 'طبیعت'; break;
                    case 'city': categoryLabel = 'شهر'; break;
                    case 'tech': categoryLabel = 'تکنولوژی'; break;
                    case 'art': categoryLabel = 'هنر'; break;
                    default: categoryLabel = wallpaper.category;
                }
                
                card.innerHTML = `
                    <div class="image-number">${wallpaper.id}</div>
                    <div class="category-tag">${categoryLabel}</div>
                    <div class="image-container">
                        <img src="${wallpaper.url}" alt="${wallpaper.name}" class="wallpaper-image loading-image" 
                             onload="this.classList.remove('loading-image'); this.classList.add('loaded-image')"
                             onerror="this.onerror=null; this.src='https://picsum.photos/id/${wallpaper.id + 1000}/800/1200'">
                        <div class="download-overlay">
                            <button class="download-btn" onclick="downloadWallpaper(${wallpaper.id})">
                                <i class="fas fa-download"></i>
                                دانلود والپیپر
                            </button>
                        </div>
                    </div>
                `;
                gallery.appendChild(card);
            });
        }

        // تنظیم دکمه‌های فیلتر
        function setupFilterButtons() {
            const filterButtons = document.querySelectorAll('.category-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // حذف کلاس active از همه دکمه‌ها
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // اضافه کردن کلاس active به دکمه کلیک شده
                    this.classList.add('active');
                    
                    const category = this.dataset.category;
                    filterWallpapers(category);
                    
                    // نمایش تعداد تصاویر در دسته انتخابی
                    if (category === 'all') {
                        showNotification(`نمایش همه 200 والپیپر`);
                    } else {
                        const count = wallpapers.filter(w => w.category === category).length;
                        showNotification(`${count} والپیپر در دسته "${this.textContent}"`);
                    }
                });
            });
        }

        // فیلتر کردن والپیپرها
        function filterWallpapers(category) {
            const gallery = document.getElementById('gallery');
            const cards = gallery.querySelectorAll('.wallpaper-card');
            
            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    setTimeout(() => {
                        card.style.animation = 'fadeIn 0.5s ease';
                    }, 10);
                } else {
                    card.style.display = 'none';
                }
            });
            
            // اضافه کردن انیمیشن برای تغییر فیلتر
            gallery.classList.add('filtered');
            setTimeout(() => {
                gallery.classList.remove('filtered');
            }, 300);
        }

        // دانلود والپیپر
        async function downloadWallpaper(id) {
            const wallpaper = wallpapers.find(w => w.id === id);
            if (!wallpaper) return;
            
            // نمایش لودر
            document.getElementById('loader').classList.add('active');
            
            try {
                // Picsum Photos اجازه دانلود مستقیم می‌دهد
                const link = document.createElement('a');
                link.href = wallpaper.url;
                link.download = `wallpaper-${id}-${wallpaper.name.replace(/\s+/g, '-')}.jpg`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // نمایش نوتیفیکیشن
                showNotification(`والپیپر "${wallpaper.name}" با موفقیت دانلود شد!`);
                
            } catch (error) {
                console.error('خطا در دانلود:', error);
                
                // روش جایگزین
                try {
                    const link = document.createElement('a');
                    link.href = wallpaper.url;
                    link.target = '_blank';
                    link.rel = 'noopener noreferrer';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    
                    showNotification(`والپیپر "${wallpaper.name}" در تب جدید باز شد. لطفاً با کلیک راست Save Image را انتخاب کنید.`);
                } catch (fallbackError) {
                    showNotification('خطا در دانلود والپیپر. لطفاً بعداً مجدداً تلاش کنید.', 'error');
                }
            } finally {
                // پنهان کردن لودر
                setTimeout(() => {
                    document.getElementById('loader').classList.remove('active');
                }, 500);
            }
        }

        // نمایش نوتیفیکیشن
        function showNotification(message, type = 'success') {
            const container = document.getElementById('notification-container');
            
            // حذف نوتیفیکیشن قبلی
            const existingNotification = container.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // ایجاد نوتیفیکیشن جدید
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            const icon = type === 'error' ? 'fa-exclamation-circle' : 'fa-check-circle';
            
            notification.innerHTML = `
                <i class="fas ${icon}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(notification);
            
            // حذف خودکار بعد از ۳ ثانیه
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 3000);
        }

        // جلوگیری از زوم
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        // جلوگیری از دابل تاپ
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(e) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, { passive: false });
        
        // تابع برای تازه‌سازی تصاویر
        window.refreshImages = function() {
            const images = document.querySelectorAll('.wallpaper-image');
            images.forEach((img, index) => {
                const wallpaper = wallpapers[index];
                if (wallpaper) {
                    // اضافه کردن timestamp برای جلوگیری از کش
                    const timestamp = new Date().getTime();
                    img.src = `${wallpaper.url}?t=${timestamp}`;
                }
            });
            showNotification('تصاویر تازه‌سازی شدند');
        };
        
        // تابع برای تولید تصاویر جدید
        window.generateNewImages = function() {
            document.getElementById('loader').classList.add('active');
            
            setTimeout(() => {
                // تغییر ID تصاویر برای گرفتن تصاویر جدید
                wallpapers.forEach(wallpaper => {
                    wallpaper.url = `https://picsum.photos/id/${Math.floor(Math.random() * 1000) + 2000}/800/1200`;
                });
                
                createGallery();
                document.getElementById('loader').classList.remove('active');
                showNotification('۲۰۰ تصویر جدید ایجاد شدند!');
            }, 1000);
        };
    </script>
</body>
</html>